(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c61d5c"],{"01d6":function(t,e,a){},"0352":function(t,e,a){},"279d":function(t,e,a){},"52ca":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_threads"},[a("div",{staticClass:"user_threads__title"},[t._v("Threads by "+t._s(t.username))]),t.threads?t.threads.length?a("scroll-load",{attrs:{loading:t.loadingThreads,showNext:null!==t.nextURL,message:"threads"},on:{loadNext:t.loadNewThreads}},[t._l(t.threads,function(t){return a("thread-display",{key:t.id,attrs:{thread:t}})}),t._l(t.nextThreadsCount,function(e){return t.loadingThreads?a("thread-display-placeholder",{key:e}):t._e()})],2):[t._v("This user hasn't started any threads yet")]:t._l(10,function(t){return a("thread-display-placeholder",{key:t})})],2)},r=[],n=(a("7f7f"),a("7514"),a("2909")),i=a("8674"),o=a("ce34"),d=a("9870"),l=a("c4b0"),c=a("bd28"),h={name:"userThreads",props:["username"],components:{ThreadDisplay:o["a"],ThreadDisplayPlaceholder:d["a"],ScrollLoad:i["a"]},data:function(){return{threads:null,loadingThreads:!1,nextURL:"",nextThreadsCount:0}},methods:{loadNewThreads:function(){var t=this;null!==this.nextURL&&(this.loadingThreads=!0,this.axios.get(this.nextURL).then(function(e){var a;t.loadingThreads=!1,t.threads||(t.threads=[]),(a=t.threads).push.apply(a,Object(n["a"])(e.data.Threads)),t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount}).catch(function(e){t.loadingThreads=!1,Object(l["a"])(t.$store)(e)}))}},created:function(){var t=this;this.$store.dispatch("setTitle",this.$route.params.username+" | threads"),this.axios.get("/api/v1/user/".concat(this.$route.params.username,"?threads=true")).then(function(e){t.threads=e.data.Threads,t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount}).catch(function(e){var a=e.response.data.errors.find(function(t){return"accountDoesNotExist"===t.name});a?t.$store.commit("set404Page",!0):Object(l["a"])(t.$store)(e)}),Object(c["a"])("userThreads",this.$route.params.username)}},u=h,_=(a("9cd1"),a("2877")),p=Object(_["a"])(u,s,r,!1,null,"3f332e6c",null);p.options.__file="UserThreads.vue";e["default"]=p.exports},"84a2":function(t,e,a){(function(e){var a="Expected a function",s=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,u=c||h||Function("return this")(),_=Object.prototype,p=_.toString,f=Math.max,v=Math.min,y=function(){return u.Date.now()};function m(t,e,s){var r,n,i,o,d,l,c=0,h=!1,u=!1,_=!0;if("function"!=typeof t)throw new TypeError(a);function p(e){var a=r,s=n;return r=n=void 0,c=e,o=t.apply(s,a),o}function m(t){return c=t,d=setTimeout(C,e),h?p(t):o}function b(t){var a=t-l,s=t-c,r=e-a;return u?v(r,i-s):r}function T(t){var a=t-l,s=t-c;return void 0===l||a>=e||a<0||u&&s>=i}function C(){var t=y();if(T(t))return w(t);d=setTimeout(C,b(t))}function w(t){return d=void 0,_&&r?p(t):(r=n=void 0,o)}function U(){void 0!==d&&clearTimeout(d),c=0,r=l=n=d=void 0}function $(){return void 0===d?o:w(y())}function j(){var t=y(),a=T(t);if(r=arguments,n=this,l=t,a){if(void 0===d)return m(l);if(u)return d=setTimeout(C,e),p(l)}return void 0===d&&(d=setTimeout(C,e)),o}return e=x(e)||0,g(s)&&(h=!!s.leading,u="maxWait"in s,i=u?f(x(s.maxWait)||0,e):i,_="trailing"in s?!!s.trailing:_),j.cancel=U,j.flush=$,j}function b(t,e,s){var r=!0,n=!0;if("function"!=typeof t)throw new TypeError(a);return g(s)&&(r="leading"in s?!!s.leading:r,n="trailing"in s?!!s.trailing:n),m(t,e,{leading:r,maxWait:e,trailing:n})}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function T(t){return!!t&&"object"==typeof t}function C(t){return"symbol"==typeof t||T(t)&&p.call(t)==r}function x(t){if("number"==typeof t)return t;if(C(t))return s;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var a=o.test(t);return a||d.test(t)?l(t.slice(2),a?2:8):i.test(t)?s:+t}t.exports=b}).call(this,a("c8ba"))},8674:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll_load"},[t._t("default")],2)},r=[],n=a("8e8d"),i=a("84a2"),o=a.n(i),d={name:"ScrollLoad",props:["loading","query-selector","padding-bottom","padding-top"],components:{LoadingButton:n["a"]},computed:{element:function(){return this.querySelector?document.querySelector(this.querySelector):null}},methods:{onScroll:o()(function(t){var e,a,s=this.paddingBottom||300,r=this.paddingTop||150;this.loading||(this.element?(e=Math.floor(this.element.scrollTop+this.element.getBoundingClientRect().height+s-this.element.scrollHeight),a=r-this.element.scrollTop):(e=window.innerHeight+window.pageYOffset+s-document.body.scrollHeight,a=r-document.body.scrollTop),e>0?this.$emit("loadNext"):a>0&&this.$emit("loadPrevious"))})},mounted:function(){(this.element||window).addEventListener("scroll",this.onScroll)},destroyed:function(){(this.element||window).removeEventListener("scroll",this.onScroll)}},l=d,c=a("2877"),h=Object(c["a"])(l,s,r,!1,null,null,null);h.options.__file="ScrollLoad.vue";e["a"]=h.exports},9870:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thread_display_placeholder"},[a("div",{staticClass:"thread_display_placeholder__icon"}),a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"thread_display_placeholder__header"},[a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--15"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--33"})]),a("div",{staticClass:"thread_display_placeholder__replies_bar"},[a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--20"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--5"})]),a("div",{staticClass:"thread_display_placeholder__content"},[a("div",{staticClass:"thread_display_placeholder__bar"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--58"})])])])}],n={name:"ThreadDisplayPlaceholder"},i=n,o=(a("ad2c"),a("2877")),d=Object(o["a"])(i,s,r,!1,null,"3ef4b836",null);d.options.__file="ThreadDisplayPlaceholder.vue";e["a"]=d.exports},"9cd1":function(t,e,a){"use strict";var s=a("01d6"),r=a.n(s);r.a},ad2c:function(t,e,a){"use strict";var s=a("0352"),r=a.n(s);r.a},bd28:function(t,e,a){"use strict";var s=a("bc3a"),r=a.n(s);e["a"]=function(t,e){"userPosts"===t||"userThreads"===t?r.a.get("/api/v1/user/"+e).then(function(e){return r.a.post("/api/v1/log",{route:t,resourceId:e.data.id})}).catch(console.log):r.a.post("/api/v1/log",{route:t,resourceId:e}).catch(console.log)}},ce34:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thread_display"},[a("avatar-icon",{ref:"avatar",staticClass:"thread_display__icon",attrs:{user:t.thread.User,size:"small"},on:{click:t.goToUser}}),a("div",{staticStyle:{width:"100%"},on:{click:t.goToThread}},[a("div",{staticClass:"thread_display__header"},[a("span",{staticClass:"thread_display__name"},[t._v("\n\t\t\t\t"+t._s(t.thread.name)+"\n\t\t\t")]),a("div",{staticClass:"thread_display__meta_bar"},[a("div",[t._v("\n\t\t\t\t\tBy\n\t\t\t\t\t"),a("span",{ref:"username",staticClass:"thread_display__username"},[t._v(t._s(t.threadUsername))]),t._v("\n\t\t\t\t\tin\n\t\t\t\t\t"),a("span",{ref:"category",staticClass:"thread_display__category"},[t._v(t._s(t.thread.Category.name))]),t._v("\n\t\t\t\t\t·\n\t\t\t\t\t"),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.createdAt)))])])])]),a("div",{staticClass:"thread_display__replies_bar"},[2===t.thread.Posts.length?a("div",{staticClass:"thread_display__latest_reply"},[a("span",{staticClass:"fa fa-reply fa-fw"}),a("span",{staticClass:"thread_display__latest_reply__text"},[t._v("Latest reply by")]),a("span",{staticClass:"thread_display__username"},[t._v(t._s(t.replyUsername))]),t._v("\n\t\t\t\t·\n\t\t\t\t"),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.Posts[1].createdAt)))])]):a("span",{staticStyle:{cursor:"default"}},[t._v("No replies")]),a("div",{staticClass:"thread_display__replies",attrs:{title:"Replies to thread"}},[a("span",{staticClass:"fa fa-comment-o fa-fw"}),t._v("\n\t\t\t\t"+t._s(t.thread.postsCount-1)+"\n\t\t\t")])]),a("div",{staticClass:"thread_display__content"},[t._v("\n\t\t\t"+t._s(t._f("truncate")(t._f("stripTags")(t.thread.Posts[0].content),150))+"\n\t\t")])])],1)},r=[],n=a("9098"),i={name:"ThreadDisplay",props:["thread"],components:{AvatarIcon:n["a"]},computed:{threadUsername:function(){return this.thread.User?this.thread.User.username:"[deleted]"},replyUsername:function(){return this.thread.Posts[1].User?this.thread.Posts[1].User.username:"[deleted]"}},methods:{goToUser:function(){this.$router.push("/user/"+this.thread.User.username)},goToThread:function(){this.$router.push("/thread/"+this.thread.slug+"/"+this.thread.id)}}},o=i,d=(a("db0b"),a("2877")),l=Object(d["a"])(o,s,r,!1,null,"c50f8b6c",null);l.options.__file="ThreadDisplay.vue";e["a"]=l.exports},db0b:function(t,e,a){"use strict";var s=a("279d"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-02c61d5c.03c98062.js.map