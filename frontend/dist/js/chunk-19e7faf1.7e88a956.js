(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19e7faf1"],{"279d":function(t,s,e){},"2a9b":function(t,s,e){},"6ba4":function(t,s,e){},"73b2":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user_placeholder"},[e("div",{staticClass:"user_placeholder__avatar"}),e("div",{staticClass:"user_placeholder__username"})])}],i={name:"UserPlaceholder"},n=i,o=(e("a4a1"),e("2877")),c=Object(o["a"])(n,a,r,!1,null,"538c905c",null);c.options.__file="UserPlaceholder.vue";s["a"]=c.exports},"90f5":function(t,s,e){"use strict";var a=e("6ba4"),r=e.n(a);r.a},a4a1:function(t,s,e){"use strict";var a=e("ab28"),r=e.n(a);r.a},ab28:function(t,s,e){},ac51:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user_display",on:{click:function(s){t.$router.push("/user/"+t.user.username)}}},[e("avatar-icon",{attrs:{user:t.user,size:"small"}}),e("div",{staticClass:"user_display__username"},[t._v("\n\t\t"+t._s(t.user.username)+"\n\t")])],1)},r=[],i=e("9098"),n={name:"UserDisplay",props:["user"],components:{AvatarIcon:i["a"]}},o=n,c=(e("90f5"),e("2877")),l=Object(c["a"])(o,a,r,!1,null,"cb3c8d9a",null);l.options.__file="UserDisplay.vue";s["a"]=l.exports},bd28:function(t,s,e){"use strict";var a=e("bc3a"),r=e.n(a);s["a"]=function(t,s){"userPosts"===t||"userThreads"===t?r.a.get("/api/v1/user/"+s).then(function(s){return r.a.post("/api/v1/log",{route:t,resourceId:s.data.id})}).catch(console.log):r.a.post("/api/v1/log",{route:t,resourceId:s}).catch(console.log)}},ce34:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"thread_display"},[e("avatar-icon",{ref:"avatar",staticClass:"thread_display__icon",attrs:{user:t.thread.User,size:"small"},on:{click:t.goToUser}}),e("div",{staticStyle:{width:"100%"},on:{click:t.goToThread}},[e("div",{staticClass:"thread_display__header"},[e("span",{staticClass:"thread_display__name"},[t._v("\n\t\t\t\t"+t._s(t.thread.name)+"\n\t\t\t")]),e("div",{staticClass:"thread_display__meta_bar"},[e("div",[t._v("\n\t\t\t\t\tBy\n\t\t\t\t\t"),e("span",{ref:"username",staticClass:"thread_display__username"},[t._v(t._s(t.threadUsername))]),t._v("\n\t\t\t\t\tin\n\t\t\t\t\t"),e("span",{ref:"category",staticClass:"thread_display__category"},[t._v(t._s(t.thread.Category.name))]),t._v("\n\t\t\t\t\t·\n\t\t\t\t\t"),e("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.createdAt)))])])])]),e("div",{staticClass:"thread_display__replies_bar"},[2===t.thread.Posts.length?e("div",{staticClass:"thread_display__latest_reply"},[e("span",{staticClass:"fa fa-reply fa-fw"}),e("span",{staticClass:"thread_display__latest_reply__text"},[t._v("Latest reply by")]),e("span",{staticClass:"thread_display__username"},[t._v(t._s(t.replyUsername))]),t._v("\n\t\t\t\t·\n\t\t\t\t"),e("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.Posts[1].createdAt)))])]):e("span",{staticStyle:{cursor:"default"}},[t._v("No replies")]),e("div",{staticClass:"thread_display__replies",attrs:{title:"Replies to thread"}},[e("span",{staticClass:"fa fa-comment-o fa-fw"}),t._v("\n\t\t\t\t"+t._s(t.thread.postsCount-1)+"\n\t\t\t")])]),e("div",{staticClass:"thread_display__content"},[t._v("\n\t\t\t"+t._s(t._f("truncate")(t._f("stripTags")(t.thread.Posts[0].content),150))+"\n\t\t")])])],1)},r=[],i=e("9098"),n={name:"ThreadDisplay",props:["thread"],components:{AvatarIcon:i["a"]},computed:{threadUsername:function(){return this.thread.User?this.thread.User.username:"[deleted]"},replyUsername:function(){return this.thread.Posts[1].User?this.thread.Posts[1].User.username:"[deleted]"}},methods:{goToUser:function(){this.$router.push("/user/"+this.thread.User.username)},goToThread:function(){this.$router.push("/thread/"+this.thread.slug+"/"+this.thread.id)}}},o=n,c=(e("db0b"),e("2877")),l=Object(c["a"])(o,a,r,!1,null,"c50f8b6c",null);l.options.__file="ThreadDisplay.vue";s["a"]=l.exports},da3f:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"route_container"},[e("h1",[t._v("Search results for '"+t._s(t.$route.params.q)+"'")]),e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.threads&&t.threads.length&&!t.loadingThreads?e("div",{key:"results",staticClass:"search__results"},[e("h2",[t._v("Threads")]),t._l(t.threads.slice(0,3),function(t){return e("thread-display",{key:t.id,attrs:{thread:t}})}),t.threads.length>3?e("div",{staticClass:"search__more search__item",on:{click:function(s){t.$router.push("/search/threads/"+t.$route.params.q)}}},[e("span",{staticClass:"fa fa-fw fa-comments"}),t._v("\n\t\t\t\tView all matching threads\n\t\t\t")]):t._e()],2):t._e(),t.loadingThreads?e("div",{key:"loading"},[e("h2",[t._v("Threads")]),e("thread-display-placeholder")],1):t._e()]),e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.users&&t.users.length&&!t.loadingUsers?e("div",{key:"results",staticClass:"search__results"},[e("h2",[t._v("Users")]),t._l(t.users.slice(0,5),function(t){return e("user-display",{key:t.id,attrs:{user:t}})}),t.users.length>5?e("div",{staticClass:"search__item search__more",on:{click:function(s){t.$router.push("/search/users/"+t.$route.params.q)}}},[e("span",{staticClass:"fa fa-fw fa-user"}),t._v("\n\t\t\t\tView all matching users\n\t\t\t")]):t._e()],2):t._e(),t.loadingUsers?e("div",{key:"loading"},[e("h2",[t._v("Users")]),e("user-placeholder")],1):t._e(),t.showNoResults||t.queryTooShort?e("div",{key:"no results",staticClass:"overlay_message search__overlay_message"},[e("span",{staticClass:"fa fa-exclamation-circle"}),t._v("\n\t\t\t\t"+t._s(t.queryTooShort?"Search term is too short":"No results found")+"\n\t\t")]):t._e()])],1)},r=[],i=(e("cadf"),e("551c"),e("097d"),e("ac51")),n=e("73b2"),o=e("ce34"),c=e("c4b0"),l=e("bd28"),d={name:"Search",components:{UserDisplay:i["a"],UserPlaceholder:n["a"],ThreadDisplay:o["a"]},data:function(){return{threads:[],loadingThreads:!1,users:[],loadingUsers:!1}},computed:{showNoResults:function(){return!this.loadingUsers&&!this.loadingThreads&&!this.threads.length&&!this.users.length},queryTooShort:function(){return this.$route.params.q.length<4}},methods:{getUsers:function(){var t=this;this.loadingUsers=!0,this.axios.get("/api/v1/search/user?q="+this.$route.params.q).then(function(s){t.loadingUsers=!1,t.users=s.data.users}).catch(Object(c["a"])(this.$store))},getThreads:function(){var t=this;this.loadingThreads=!0,this.axios.get("/api/v1/search/thread?q="+this.$route.params.q).then(function(s){t.loadingThreads=!1,t.threads=s.data.threads}).catch(Object(c["a"])(this.$store))},getResults:function(){this.queryTooShort||(this.$store.dispatch("setTitle","Search | "+this.$route.params.q),this.getThreads(),this.getUsers())}},watch:{"$route.params":"getResults"},mounted:function(){this.$store.dispatch("setTitle","Search | "+this.$route.params.q),this.getResults(),Object(l["a"])("search")}},h=d,u=(e("fe55"),e("2877")),_=Object(u["a"])(h,a,r,!1,null,"671640dd",null);_.options.__file="Search.vue";s["default"]=_.exports},db0b:function(t,s,e){"use strict";var a=e("279d"),r=e.n(a);r.a},fe55:function(t,s,e){"use strict";var a=e("2a9b"),r=e.n(a);r.a}}]);
//# sourceMappingURL=chunk-19e7faf1.7e88a956.js.map