(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a91842da"],{"1bad":function(t,e,a){},"279d":function(t,e,a){},"52ca":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_threads"},[a("div",{staticClass:"user_threads__title"},[t._v("Threads by "+t._s(t.username))]),t.threads?t.threads.length?a("scroll-load",{attrs:{loading:t.loadingThreads,showNext:null!==t.nextURL,message:"threads"},on:{loadNext:t.loadNewThreads}},[t._l(t.threads,function(t){return a("thread-display",{key:t.id,attrs:{thread:t}})}),t._l(t.nextThreadsCount,function(e){return t.loadingThreads?a("thread-display-placeholder",{key:e}):t._e()})],2):[t._v("This user hasn't started any threads yet")]:t._l(10,function(t){return a("thread-display-placeholder",{key:t})})],2)},n=[],r=(a("7f7f"),a("7514"),a("2909")),i=a("8674"),o=a("ce34"),d=a("c4b0"),l=a("bd28"),c={name:"userThreads",props:["username"],components:{ThreadDisplay:o["a"],ScrollLoad:i["a"]},data:function(){return{threads:null,loadingThreads:!1,nextURL:"",nextThreadsCount:0}},methods:{loadNewThreads:function(){var t=this;null!==this.nextURL&&(this.loadingThreads=!0,this.axios.get(this.nextURL).then(function(e){var a;t.loadingThreads=!1,t.threads||(t.threads=[]),(a=t.threads).push.apply(a,Object(r["a"])(e.data.Threads)),t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount}).catch(function(e){t.loadingThreads=!1,Object(d["a"])(t.$store)(e)}))}},created:function(){var t=this;this.$store.dispatch("setTitle",this.$route.params.username+" | threads"),this.axios.get("/api/v1/user/".concat(this.$route.params.username,"?threads=true")).then(function(e){t.threads=e.data.Threads,t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount}).catch(function(e){var a=e.response.data.errors.find(function(t){return"accountDoesNotExist"===t.name});a?t.$store.commit("set404Page",!0):Object(d["a"])(t.$store)(e)}),Object(l["a"])("userThreads",this.$route.params.username)}},u=c,h=(a("f931"),a("2877")),f=Object(h["a"])(u,s,n,!1,null,"ff9b2064",null);f.options.__file="UserThreads.vue";e["default"]=f.exports},"84a2":function(t,e,a){(function(e){var a="Expected a function",s=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),f=Object.prototype,p=f.toString,_=Math.max,m=Math.min,v=function(){return h.Date.now()};function y(t,e,s){var n,r,i,o,d,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError(a);function p(e){var a=n,s=r;return n=r=void 0,c=e,o=t.apply(s,a),o}function y(t){return c=t,d=setTimeout(x,e),u?p(t):o}function g(t){var a=t-l,s=t-c,n=e-a;return h?m(n,i-s):n}function b(t){var a=t-l,s=t-c;return void 0===l||a>=e||a<0||h&&s>=i}function x(){var t=v();if(b(t))return w(t);d=setTimeout(x,g(t))}function w(t){return d=void 0,f&&n?p(t):(n=r=void 0,o)}function U(){void 0!==d&&clearTimeout(d),c=0,n=l=r=d=void 0}function $(){return void 0===d?o:w(v())}function j(){var t=v(),a=b(t);if(n=arguments,r=this,l=t,a){if(void 0===d)return y(l);if(h)return d=setTimeout(x,e),p(l)}return void 0===d&&(d=setTimeout(x,e)),o}return e=C(e)||0,T(s)&&(u=!!s.leading,h="maxWait"in s,i=h?_(C(s.maxWait)||0,e):i,f="trailing"in s?!!s.trailing:f),j.cancel=U,j.flush=$,j}function g(t,e,s){var n=!0,r=!0;if("function"!=typeof t)throw new TypeError(a);return T(s)&&(n="leading"in s?!!s.leading:n,r="trailing"in s?!!s.trailing:r),y(t,e,{leading:n,maxWait:e,trailing:r})}function T(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||b(t)&&p.call(t)==n}function C(t){if("number"==typeof t)return t;if(x(t))return s;if(T(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=T(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var a=o.test(t);return a||d.test(t)?l(t.slice(2),a?2:8):i.test(t)?s:+t}t.exports=g}).call(this,a("c8ba"))},8674:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll_load"},[t._t("default")],2)},n=[],r=a("8e8d"),i=a("84a2"),o=a.n(i),d={name:"ScrollLoad",props:["loading","query-selector","padding-bottom","padding-top"],components:{LoadingButton:r["a"]},computed:{element:function(){return this.querySelector?document.querySelector(this.querySelector):null}},methods:{onScroll:o()(function(t){var e,a,s=this.paddingBottom||300,n=this.paddingTop||150;this.loading||(this.element?(e=Math.floor(this.element.scrollTop+this.element.getBoundingClientRect().height+s-this.element.scrollHeight),a=n-this.element.scrollTop):(e=window.innerHeight+window.pageYOffset+s-document.body.scrollHeight,a=n-document.body.scrollTop),e>0?this.$emit("loadNext"):a>0&&this.$emit("loadPrevious"))})},mounted:function(){(this.element||window).addEventListener("scroll",this.onScroll)},destroyed:function(){(this.element||window).removeEventListener("scroll",this.onScroll)}},l=d,c=a("2877"),u=Object(c["a"])(l,s,n,!1,null,null,null);u.options.__file="ScrollLoad.vue";e["a"]=u.exports},bd28:function(t,e,a){"use strict";var s=a("bc3a"),n=a.n(s);e["a"]=function(t,e){"userPosts"===t||"userThreads"===t?n.a.get("/api/v1/user/"+e).then(function(e){return n.a.post("/api/v1/log",{route:t,resourceId:e.data.id})}).catch(console.log):n.a.post("/api/v1/log",{route:t,resourceId:e}).catch(console.log)}},ce34:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thread_display"},[a("avatar-icon",{ref:"avatar",staticClass:"thread_display__icon",attrs:{user:t.thread.User,size:"small"},on:{click:t.goToUser}}),a("div",{staticStyle:{width:"100%"},on:{click:t.goToThread}},[a("div",{staticClass:"thread_display__header"},[a("span",{staticClass:"thread_display__name"},[t._v("\n\t\t\t\t"+t._s(t.thread.name)+"\n\t\t\t")]),a("div",{staticClass:"thread_display__meta_bar"},[a("div",[t._v("\n\t\t\t\t\tBy\n\t\t\t\t\t"),a("span",{ref:"username",staticClass:"thread_display__username"},[t._v(t._s(t.threadUsername))]),t._v("\n\t\t\t\t\tin\n\t\t\t\t\t"),a("span",{ref:"category",staticClass:"thread_display__category"},[t._v(t._s(t.thread.Category.name))]),t._v("\n\t\t\t\t\t·\n\t\t\t\t\t"),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.createdAt)))])])])]),a("div",{staticClass:"thread_display__replies_bar"},[2===t.thread.Posts.length?a("div",{staticClass:"thread_display__latest_reply"},[a("span",{staticClass:"fa fa-reply fa-fw"}),a("span",{staticClass:"thread_display__latest_reply__text"},[t._v("Latest reply by")]),a("span",{staticClass:"thread_display__username"},[t._v(t._s(t.replyUsername))]),t._v("\n\t\t\t\t·\n\t\t\t\t"),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.Posts[1].createdAt)))])]):a("span",{staticStyle:{cursor:"default"}},[t._v("No replies")]),a("div",{staticClass:"thread_display__replies",attrs:{title:"Replies to thread"}},[a("span",{staticClass:"fa fa-comment-o fa-fw"}),t._v("\n\t\t\t\t"+t._s(t.thread.postsCount-1)+"\n\t\t\t")])]),a("div",{staticClass:"thread_display__content"},[t._v("\n\t\t\t"+t._s(t._f("truncate")(t._f("stripTags")(t.thread.Posts[0].content),150))+"\n\t\t")])])],1)},n=[],r=a("9098"),i={name:"ThreadDisplay",props:["thread"],components:{AvatarIcon:r["a"]},computed:{threadUsername:function(){return this.thread.User?this.thread.User.username:"[deleted]"},replyUsername:function(){return this.thread.Posts[1].User?this.thread.Posts[1].User.username:"[deleted]"}},methods:{goToUser:function(){this.$router.push("/user/"+this.thread.User.username)},goToThread:function(){this.$router.push("/thread/"+this.thread.slug+"/"+this.thread.id)}}},o=i,d=(a("db0b"),a("2877")),l=Object(d["a"])(o,s,n,!1,null,"c50f8b6c",null);l.options.__file="ThreadDisplay.vue";e["a"]=l.exports},db0b:function(t,e,a){"use strict";var s=a("279d"),n=a.n(s);n.a},f931:function(t,e,a){"use strict";var s=a("1bad"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-a91842da.6afe6fbc.js.map