{"version":3,"sources":["webpack:///./src/components/routes/Search.vue?542c","webpack:///./src/components/routes/Search.vue?2290","webpack:///src/components/routes/Search.vue","webpack:///./src/components/routes/Search.vue?939a","webpack:///./src/components/routes/Search.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_61e19ee1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_61e19ee1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$route","params","q","attrs","name","mode","threads","length","loadingThreads","key","_l","slice","thread","id","on","click","$event","$router","push","_e","users","loadingUsers","user","showNoResults","queryTooShort","staticRenderFns","Searchvue_type_script_lang_js_","components","UserDisplay","UserPlaceholder","ThreadDisplay","ThreadDisplayPlaceholder","data","computed","methods","getUsers","_this","axios","get","then","res","catch","Object","errorHandler","$store","getThreads","_this2","getResults","dispatch","watch","$route.params","mounted","logger","routes_Searchvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-7b9e794a.deb3b3de.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=61e19ee1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=61e19ee1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"route_container\"},[_c('h1',[_vm._v(\"Search results for '\"+_vm._s(_vm.$route.params.q)+\"'\")]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.threads && _vm.threads.length && !_vm.loadingThreads)?_c('div',{key:\"results\",staticClass:\"search__results\"},[_c('h2',[_vm._v(\"Threads\")]),_vm._l((_vm.threads.slice(0, 3)),function(thread){return _c('thread-display',{key:thread.id,attrs:{\"thread\":thread}})}),(_vm.threads.length > 3)?_c('div',{staticClass:\"search__more search__item\",on:{\"click\":function($event){_vm.$router.push(\"/search/threads/\" + _vm.$route.params.q)}}},[_c('span',{staticClass:\"fa fa-fw fa-comments\"}),_vm._v(\"\\n\\t\\t\\t\\tView all matching threads\\n\\t\\t\\t\")]):_vm._e()],2):_vm._e(),(_vm.loadingThreads)?_c('div',{key:\"loading\"},[_c('h2',[_vm._v(\"Threads\")]),_c('thread-display-placeholder')],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.users && _vm.users.length && !_vm.loadingUsers)?_c('div',{key:\"results\",staticClass:\"search__results\"},[_c('h2',[_vm._v(\"Users\")]),_vm._l((_vm.users.slice(0, 5)),function(user){return _c('user-display',{key:user.id,attrs:{\"user\":user}})}),(_vm.users.length > 5)?_c('div',{staticClass:\"search__item search__more\",on:{\"click\":function($event){_vm.$router.push(\"/search/users/\" + _vm.$route.params.q)}}},[_c('span',{staticClass:\"fa fa-fw fa-user\"}),_vm._v(\"\\n\\t\\t\\t\\tView all matching users\\n\\t\\t\\t\")]):_vm._e()],2):_vm._e(),(_vm.loadingUsers)?_c('div',{key:\"loading\"},[_c('h2',[_vm._v(\"Users\")]),_c('user-placeholder')],1):_vm._e(),(_vm.showNoResults || _vm.queryTooShort)?_c('div',{key:\"no results\",staticClass:\"overlay_message search__overlay_message\"},[_c('span',{staticClass:\"fa fa-exclamation-circle\"}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.queryTooShort ?\n\t\t\t\t\t\"Search term is too short\" :\n\t\t\t\t\t\"No results found\")+\"\\n\\t\\t\")]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class='route_container'>\n\t\t<h1>Search results for '{{$route.params.q}}'</h1>\n\t\t<transition name='fade' mode='out-in'>\n\t\t\t<div class='search__results' key='results' v-if='threads && threads.length && !loadingThreads'>\n\t\t\t\t<h2>Threads</h2>\n\t\t\t\t<thread-display v-for='thread in threads.slice(0, 3)' :key='thread.id' :thread='thread'></thread-display>\n\n\t\t\t\t<div\n\t\t\t\t\tclass='search__more search__item' v-if='threads.length > 3'\n\t\t\t\t\t@click='$router.push(\"/search/threads/\" + $route.params.q)'\n\t\t\t\t>\n\t\t\t\t\t<span class='fa fa-fw fa-comments'></span>\n\t\t\t\t\tView all matching threads\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tkey='loading'\n\t\t\t\tv-if='loadingThreads'\n\t\t\t>\n\t\t\t\t<h2>Threads</h2>\n\t\t\t\t<thread-display-placeholder></thread-display-placeholder>\n\t\t\t</div>\n\t\t</transition>\n\t\t<transition name='fade' mode='out-in'>\n\t\t\t<div class='search__results' key='results' v-if='users && users.length && !loadingUsers'>\n\t\t\t\t<h2>Users</h2>\n\t\t\t\t<user-display v-for='user in users.slice(0, 5)' :key='user.id' :user='user'></user-display>\n\t\t\t\t\n\t\t\t\t<div\n\t\t\t\t\tclass='search__item search__more' v-if='users.length > 5'\n\t\t\t\t\t@click='$router.push(\"/search/users/\" + $route.params.q)'\n\t\t\t\t>\n\t\t\t\t\t<span class='fa fa-fw fa-user'></span>\n\t\t\t\t\tView all matching users\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tkey='loading'\n\t\t\t\tv-if='loadingUsers'\n\t\t\t>\n\t\t\t\t<h2>Users</h2>\n\t\t\t\t<user-placeholder></user-placeholder>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass='overlay_message search__overlay_message'\n\t\t\t\tv-if='showNoResults || queryTooShort'\n\t\t\t\tkey='no results'\n\t\t\t>\n\t\t\t\t<span class='fa fa-exclamation-circle'></span>\n\t\t\t\t\t{{queryTooShort ?\n\t\t\t\t\t\t\"Search term is too short\" :\n\t\t\t\t\t\t\"No results found\"\n\t\t\t\t\t}}\n\t\t\t</div>\n\t\t</transition>\n\n\t</div>\n</template>\n\n<script>\n\timport UserDisplay from '../UserDisplay'\n\timport UserPlaceholder from '../UserPlaceholder'\n\timport ThreadDisplay from '../ThreadDisplay'\n\timport ThreadDisplayPlaceholder from '../ThreadDisplayPlaceholder'\n\n\timport AjaxErrorHandler from '../../assets/js/errorHandler'\n\timport logger from '../../assets/js/logger'\n\n\texport default {\n\t\tname: 'Search',\n\t\tcomponents: {\n\t\t\tUserDisplay,\n\t\t\tUserPlaceholder,\n\t\t\tThreadDisplay,\n\t\t\tThreadDisplayPlaceholder\n\t\t},\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tthreads: [],\n\t\t\t\tloadingThreads: false,\n\t\t\t\t\n\t\t\t\tusers: [],\n\t\t\t\tloadingUsers: false\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tshowNoResults () {\n\t\t\t\treturn (\n\t\t\t\t\t!this.loadingUsers && !this.loadingThreads &&\n\t\t\t\t\t!this.threads.length && !this.users.length\n\t\t\t\t);\n\t\t\t},\n\t\t\tqueryTooShort () {\n\t\t\t\treturn this.$route.params.q.length < 4\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetUsers () {\n\t\t\t\tthis.loadingUsers = true;\n\n\t\t\t\tthis.axios\n\t\t\t\t\t.get('/api/v1/search/user?q=' + this.$route.params.q)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.loadingUsers = false;\n\t\t\t\t\t\tthis.users = res.data.users;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(AjaxErrorHandler(this.$store))\n\t\t\t},\n\t\t\tgetThreads () {\n\t\t\t\tthis.loadingThreads = true;\n\n\t\t\t\tthis.axios\n\t\t\t\t\t.get('/api/v1/search/thread?q=' + this.$route.params.q)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.loadingThreads = false;\n\t\t\t\t\t\tthis.threads = res.data.threads;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(AjaxErrorHandler(this.$store))\n\t\t\t},\n\t\t\tgetResults () {\n\t\t\t\tif(this.queryTooShort) return;\n\n\t\t\t\tthis.$store.dispatch('setTitle', 'Search | ' + this.$route.params.q)\n\n\t\t\t\tthis.getThreads();\n\t\t\t\tthis.getUsers();\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t'$route.params': 'getResults'\n\t\t},\n\t\tmounted () {\n\t\t\tthis.$store.dispatch('setTitle', 'Search | ' + this.$route.params.q)\n\t\t\tthis.getResults()\n\n\t\t\tlogger('search')\n\t\t}\n\t}\n</script>\n\n<style lang='scss' scoped>\n\t@import '../../assets/scss/variables.scss';\n\n\t.search {\n\t\t@at-root #{&}__item {\n\t\t\tbackground-color: #fff;\n\t\t\tmargin-bottom: 1rem;\n\t\t\tborder: thin solid $color__gray--darker;\n\t\t\ttransition: box-shadow 0.2s;\n\t\t\toverflow: hidden;\n\n\t\t\t&:hover {\n\t\t\t\t@extend .shadow_border--hover;\n\t\t\t}\n\n\t\t}\n\n\t\t@at-root #{&}__more {\n\t\t\tborder-radius: 0.25rem;\n\t\t\tcursor: pointer;\n\t\t\tfont-weight: 500;\n\t\t\tmargin-top: 1rem;\n\t\t\tpadding: 0.75rem;\n\n\t\t\tspan {\n\t\t\t\tcolor: $color__darkgray--darker;\n\t\t\t\tfont-weight: 300;\n\t\t\t}\n\t\t}\n\n\t\t@at-root #{&}__overlay_message {\n\t\t\tmargin-top: 5rem;\n\n\t\t\t@at-root #{&}--loading span {\n\t\t\t\tmargin-bottom: 1rem;\n\t\t\t}\n\t\t}\n\t}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=61e19ee1&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=61e19ee1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61e19ee1\",\n  null\n  \n)\n\ncomponent.options.__file = \"Search.vue\"\nexport default component.exports"],"sourceRoot":""}