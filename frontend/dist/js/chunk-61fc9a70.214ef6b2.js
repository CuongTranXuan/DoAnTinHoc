(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61fc9a70"],{"06d2":function(t,e,o){"use strict";var s=o("a760"),n=o.n(s);n.a},1844:function(t,e,o){"use strict";var s=o("480b"),n=o.n(s);n.a},"1be9":function(t,e,o){},"480b":function(t,e,o){},4917:function(t,e,o){"use strict";var s=o("cb7c"),n=o("9def"),i=o("0390"),a=o("5f1b");o("214f")("match",1,function(t,e,o,r){return[function(o){var s=t(this),n=void 0==o?void 0:o[e];return void 0!==n?n.call(o,s):new RegExp(o)[e](String(s))},function(t){var e=r(o,t,this);if(e.done)return e.value;var l=s(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;var d,h=[],p=0;while(null!==(d=a(l,c))){var f=String(d[0]);h[p]=f,""===f&&(l.lastIndex=i(c,n(l.lastIndex),u)),p++}return 0===p?null:h}]})},"59bf":function(t,e,o){"use strict";var s=o("1be9"),n=o.n(s);n.a},"5b95":function(t,e,o){},"6e0b":function(t,e,o){"use strict";var s=o("c89d"),n=o.n(s);n.a},"6fab":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menu_tooltip",class:{"menu_tooltip--touch":!t.touchDisabled}},[o("div",{staticClass:"menu_tooltip__overlay",class:{"menu_tooltip__overlay--show":t.value},on:{click:function(e){t.$emit("input",!1)}}}),t._t("button"),o("div",{staticClass:"menu_tooltip__menu",class:{"menu_tooltip__menu--show":t.value},style:{top:t.top,width:t.width}},[o("div",{staticClass:"menu_tooltip__menu__inner"},[t._t("menu")],2)])],2)},n=[],i=(o("cadf"),o("551c"),o("097d"),{name:"MenuTooltip",props:["value","top","width","touch-disabled"]}),a=i,r=(o("6e0b"),o("2877")),l=Object(r["a"])(a,s,n,!1,null,"5bd61e2c",null);l.options.__file="MenuTooltip.vue";e["a"]=l.exports},"87e6":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input_editor_core"},[o("div",[o("div",{staticClass:"input_editor_core__format_bar"},[o("div",{staticClass:"input_editor_core__format_button",attrs:{title:"Bold (ctrl + b)"},on:{click:function(e){t.replaceSelectedText("__","__")}}},[t._v("\n\t\t\t\tB\n\t\t\t")]),o("div",{staticClass:"input_editor_core__format_button",attrs:{title:"Italic (ctrl + i)"},on:{click:function(e){t.replaceSelectedText("*","*")}}},[t._v("\n\t\t\t\tI\n\t\t\t")])]),o("textarea",{ref:"textarea",staticClass:"input_editor_core__input",attrs:{placeholder:"Type here"},domProps:{value:t.value},on:{input:function(e){t.setEditor(e.target.value)},focus:function(e){t.$emit("focus")},blur:function(e){t.$emit("blur")},keydown:[function(e){return("button"in e||66===e.keyCode)&&e.ctrlKey?(e.preventDefault(),void t.replaceSelectedText("__","__")):null},function(e){return("button"in e||73===e.keyCode)&&e.ctrlKey?(e.preventDefault(),void t.replaceSelectedText("*","*")):null},function(e){return("button"in e||76===e.keyCode)&&e.ctrlKey?(e.preventDefault(),void t.setModalState("link",!0)):null}]}})]),o("modal-window",{model:{value:t.linkModalVisible,callback:function(e){t.linkModalVisible=e},expression:"linkModalVisible"}},[o("div",{attrs:{slot:"main"},slot:"main"},[o("p",[t._v("\n\t\t\t\tEnter the web address in the input box below\n\t\t\t")]),o("fancy-input",{attrs:{placeholder:"Text for link",width:"100%"},model:{value:t.linkText,callback:function(e){t.linkText=e},expression:"linkText"}}),o("fancy-input",{attrs:{placeholder:"Web address for link",width:"100%"},model:{value:t.linkURL,callback:function(e){t.linkURL=e},expression:"linkURL"}})],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button button--green button--modal",on:{click:t.addLink}},[t._v("\n\t\t\t\tAdd link\n\t\t\t")]),o("button",{staticClass:"button button--modal",on:{click:function(e){t.setModalState("link",!1)}}},[t._v("\n\t\t\t\tCancel\n\t\t\t")])])])],1)},n=[],i=(o("4917"),o("ac6a"),o("cadf"),o("551c"),o("097d"),o("6307")),a=o("80e3"),r=(o("6334"),o("e145")),l={},c={name:"InputEditorCore",props:["value","error"],components:{ModalWindow:i["a"],FancyInput:a["a"],ErrorTooltip:r["a"]},data:function(){return{linkText:"",linkURL:"",linkModalVisible:!1,imageModalVisible:!1}},methods:{setModalState:function(t,e){"link"===t?(this.linkModalVisible=e,e?this.linkText=this.getSelectionData().val:(this.linkText="",this.linkURL="")):"image"===t&&(this.imageModalVisible=e)},checkUsernames:function(t){var e=this,o=0,s=[],n=function(n){o++,n&&s.push(n),o===t.length&&e.$emit("mentions",s)};t.forEach(function(t){e.checkUsername(t,n)})},checkUsername:function(t,e){var o=t.trim().slice(1),s=l[o];void 0!==s?e(s):void 0===s&&this.axios.get("/api/v1/user/"+o).then(function(t){l[o]=o,e(o)}).catch(function(t){l[o]=null,e(null)})},setEditor:function(t){var e=t.match(/(^|\s)@[^\s]+/g)||[];this.checkUsernames(e),this.$emit("input",t)},getSelectionData:function(){var t=this.$refs.textarea,e=t.selectionStart,o=t.selectionEnd;return{val:t.value.slice(e,o),start:e,end:o}},replaceSelectedText:function(t,e){var o=this.getSelectionData(),s=this.$refs.textarea;this.value.substr(o.start-t.length,t.length)===t&&this.value.substr(o.end,e.length)===e?(this.setEditor(this.value.slice(0,o.start-t.length)+o.val+this.value.slice(o.end+e.length)),setTimeout(function(){s.selectionStart=o.start-t.length,s.selectionEnd=o.end-e.length},0)):(this.setEditor(this.value.slice(0,o.start)+t+o.val+e+this.value.slice(o.end)),setTimeout(function(){s.selectionStart=o.start+t.length,s.selectionEnd=o.end+e.length},0)),s.focus()}}},u=c,d=(o("1844"),o("2877")),h=Object(d["a"])(u,s,n,!1,null,"4e67d1a1",null);h.options.__file="InputEditorCore.vue";e["a"]=h.exports},"8f02":function(t,e,o){"use strict";var s=o("c67e"),n=o.n(s);n.a},9009:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"route_container",style:t.posts.length?"padding-bottom: 8.5rem;":null},[o("confirm-modal",{attrs:{text:"Delete",color:"red"},on:{confirm:t.deleteThread},model:{value:t.showConfirmModal,callback:function(e){t.showConfirmModal=e},expression:"showConfirmModal"}},[t._v("\n\t\tAre you sure you want to delete this thread?\n\t\t"),o("br"),t._v("This "),o("b",[t._v("cannot")]),t._v(" be undone\n\t")]),t.$store.state.thread.postNotification?o("thread-post-notification",{attrs:{post:t.$store.state.thread.postNotification},on:{close:function(e){t.$store.commit("thread/setPostNotification",null)},goToPost:t.goToPostNotification}}):t._e(),o("header",{staticClass:"thread_header"},[o("div",{ref:"title",staticClass:"thread_header__thread_title"},[t._v("\n\t\t\t"+t._s(t.thread)+"\n\t\t")])]),o("div",{staticClass:"thread_side_bar"},[t.$store.state.thread.showRemovePostsButton?o("loading-button",{staticClass:"button--thin_text",class:{"button--disabled":!t.$store.state.thread.selectedPosts.length},attrs:{loading:t.$store.state.thread.removePostsButtonLoading,dark:!0},on:{click:t.removePosts}},[t._v("\n\t\t\tRemove posts ("+t._s(t.$store.state.thread.selectedPosts.length)+")\n\t\t")]):t._e(),t.$store.state.admin?o("menu-button",{attrs:{options:[{event:"lock_thread",value:t.$store.state.thread.locked?"Unlock thread":"Lock thread"},{event:"delete_thread",value:"Delete thread"},{event:"remove_posts",value:"Remove posts"}]},on:{lock_thread:t.setThreadLockedState,remove_posts:t.setThreadSelectState,delete_thread:function(e){t.showConfirmModal=!0}}},[o("button",{staticClass:"button button--thin_text"},[o("span",{staticClass:"fa fa-cogs",staticStyle:{"margin-right":"0.25rem"}}),t._v("\n\t\t\t\tManage thread\n\t\t\t")])]):t._e(),t.$store.state.thread.locked?t._e():o("button",{staticClass:"button button--thin_text",on:{click:t.replyThread}},[t._v("\n\t\t\t"+t._s(t.replyThreadButton)+"\n\t\t")]),o("post-scrubber",{attrs:{posts:t.$store.state.thread.totalPostsCount,value:t.$route.params.post_number||0},on:{input:t.goToPost}})],1),o("input-editor",{attrs:{show:t.editorState,replyUsername:t.replyUsername,loading:t.$store.state.thread.editor.loading},on:{mentions:t.setMentions,close:t.hideEditor,submit:t.addPost},model:{value:t.editor,callback:function(e){t.editor=e},expression:"editor"}}),t.$store.state.thread.locked?o("div",{staticClass:"locked_thread"},[o("h2",[t._v("Thread locked")]),t._v("\n\t\tYou can't post in this thread because it has been locked by an administrator\n\t")]):t._e(),o("div",{staticClass:"posts"},[o("scroll-load",{on:{loadNext:t.loadNextPosts,loadPrevious:t.loadPreviousPosts}},[t._l(3,function(e){return t.posts.length?t._e():o("thread-post-placeholder",{key:e,class:{"post--last":2===e}})}),t._l(t.$store.state.thread.previousPostsCount,function(e){return"previous"===t.$store.state.thread.loadingPosts?o("thread-post-placeholder",{key:e}):t._e()}),t._l(t.posts,function(e,s){return o("thread-post",{key:e.id,ref:"posts",refInFor:!0,class:{"post--last":s===t.posts.length-1},attrs:{post:e,"show-reply":!t.$store.state.thread.locked,showSelect:t.$store.state.thread.showRemovePostsButton,highlight:t.highlightedPostIndex===s,allowQuote:!0},on:{reply:t.replyUser,goToPost:t.goToPost,selected:t.setSelectedPosts}})}),t._l(t.$store.state.thread.nextPostsCount,function(e){return"next"===t.$store.state.thread.loadingPosts?o("thread-post-placeholder",{key:e}):t._e()})],2)],1),t.$store.state.thread.category?o("more-threads",{attrs:{category:t.$store.state.thread.category,threadId:t.$store.state.thread.threadId}}):t._e()],1)},n=[],i=(o("55dd"),o("a481"),o("7514"),o("cadf"),o("551c"),o("097d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input_editor input_editor--float",class:{"input_editor--hidden":!t.show,"input_editor--focus-input":t.focusInput}},[o("div",{staticClass:"input_editor__overlay",class:{"input_editor__overlay--show":t.loading}},[o("loading-icon")],1),t.replyUsername?o("div",{staticClass:"input_editor__reply_username"},[t._v("Replying to "),o("strong",[t._v(t._s(t.replyUsername))])]):t._e(),o("div",{staticClass:"input_editor__close input_editor__format_button",on:{click:t.closeEditor}},[t._v("Ã—")]),o("tab-view",{attrs:{tabs:["Editor"],"small-tabs":!0},model:{value:t.showTab,callback:function(e){t.showTab=e},expression:"showTab"}},[o("template",{slot:"Editor"},[o("input-editor-core",{attrs:{value:t.value,error:t.error},on:{input:t.emitInput,mentions:t.emitMentions,focus:function(e){t.setFocusInput(!0)},blur:function(e){t.setFocusInput(!1)}}})],1)],2),o("div",{staticClass:"input_editor__submit_bar"},[o("button",{staticClass:"button button--thin_text",on:{click:t.submit}},[t._v("Submit")])])],1)}),a=[],r=o("87e6"),l=o("c5af"),c=o("6334"),u={name:"InputEditor",props:["value","error","replyUsername","show","loading"],components:{InputEditorCore:r["a"],LoadingIcon:l["a"],TabView:c["a"]},data:function(){return{showTab:0,mentions:[],focusInput:!1}},methods:{submit:function(){this.value.trim().length&&this.$emit("submit")},closeEditor:function(){this.emitInput(""),this.$emit("close")},emitMentions:function(t){this.mentions=t,this.$emit("mentions",t)},emitInput:function(t){this.$emit("input",t)},setFocusInput:function(t){this.focusInput=t}},watch:{show:function(t){var e;t&&(this.showTab=0),e=this.$el.querySelector("textarea"),e&&e.focus()}}},d=u,h=(o("da46"),o("2877")),p=Object(h["a"])(d,i,a,!1,null,"06258a22",null);p.options.__file="InputEditor.vue";var f=p.exports,_=o("8674"),m=o("1c59"),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide-fade"}},[o("div",{staticClass:"thread_post_notification",on:{click:function(e){t.$emit("goToPost")}}},[o("span",{staticClass:"thread_post_notification__close",on:{click:function(e){e.stopPropagation(),t.$emit("close")}}}),o("div",{staticClass:"thread_post_notification__header_bar"},[o("span",{staticClass:"thread_post_notification__username"},[t._v(t._s(t.post.username))]),t._v("\n\t\t\treplied Â Â·Â  click to view\n\t\t")]),o("div",{staticClass:"thread_post_notification__content"},[t._v(t._s(t._f("truncate")(t._f("stripTags")(t.post.content),150)))])])])},b=[],g={name:"ThreadPostNotification",props:["post"]},$=g,k=(o("06d2"),Object(h["a"])($,v,b,!1,null,"4c3d14be",null));k.options.__file="ThreadPostNotification.vue";var C=k.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.posts-1?o("div",{staticClass:"post_scrubber"},[o("div",{staticClass:"post_scrubber__label post_scrubber__label--first",on:{click:function(e){t.$emit("input",0)}}},[t._v("First post")]),o("div",{ref:"line",staticClass:"post_scrubber__line",on:{click:t.lineClick}}),o("div",{staticClass:"post_scrubber__dragger",class:{"post_scrubber--no_top_transition":t.dragging},style:{top:t.draggerYCoord+"px"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.setDragging(!0)},mouseup:function(e){e.preventDefault(),e.stopPropagation(),t.setDragging(!1)}}}),o("div",{staticClass:"post_scrubber__dragger_info",class:{"post_scrubber--no_top_transition":t.dragging},style:{top:t.draggerYCoord+"px"}},[t._v("\n\t\tPost "),o("strong",[t._v(t._s(t.currentPost||0))]),t._v(" out of "+t._s(t.posts)+"\n\t")]),o("div",{staticClass:"post_scrubber__label post_scrubber__label--last",on:{click:function(e){t.$emit("input",t.posts-1)}}},[t._v("\n\t\tLatest post\n\t")])]):t._e()},P=[],T={name:"PostScrubber",props:["posts","value"],data:function(){return{clientY:0,dragging:!1}},computed:{draggerYCoord:function(){var t=this.getLineTop(),e=this.getLineHeight();if(!this.clientY||!t)return 0;var o=this.clientY-t;return o<0?0:o>e?e:o},currentPost:function(){var t,e=this.getLineHeight()/this.posts,o=Math.floor(this.draggerYCoord/e);return t=o===this.posts?o:o+1,t}},methods:{getLineHeight:function(){var t=this.$refs.line;if(!t)return 0;var e=t.getBoundingClientRect();return e.height},getLineTop:function(){var t=this.$refs.line;if(!t)return 0;var e=t.getBoundingClientRect();return e.top},setDragging:function(t){this.dragging=t,t||this.$emit("input",this.currentPost-1)},lineClick:function(t){this.clientY=t.clientY},setCurrentPost:function(){var t=this.getLineTop(),e=this.getLineHeight(),o=+this.value,s=e/this.posts;o+1===this.posts?this.clientY=t+e:this.clientY=t+s*o}},watch:{value:"setCurrentPost"},mounted:function(){var t=this;this.setCurrentPost(),window.addEventListener("mousemove",function(e){t.dragging&&(t.clientY=e.clientY)}),window.addEventListener("mouseup",function(e){t.dragging&&(t.dragging=!1,t.$emit("input",t.currentPost-1))})}},y=T,x=(o("ee7b"),Object(h["a"])(y,w,P,!1,null,"bf8af982",null));x.options.__file="PostScrubber.vue";var S=x.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("menu-tooltip",{staticClass:"menu_button",attrs:{top:"0",width:"10rem","touch-disabled":"true"},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[o("div",{staticClass:"menu_button__icon",attrs:{slot:"button"},on:{click:function(e){t.menuOpen=!0}},slot:"button"},[t._t("default")],2),o("template",{slot:"menu"},t._l(t.options,function(e,s){return o("div",{staticClass:"menu_button__option",style:{"border-bottom":s===t.options.length-1?"none":"solid thin rgb(245, 245, 245)"},on:{click:function(o){t.emit(e.event)}}},[t._v("\n\t\t\t"+t._s(e.value)+"\n\t\t")])}),0)],2)},E=[],I=o("6fab"),N={name:"MenuButton",props:["options"],components:{MenuTooltip:I["a"]},data:function(){return{menuOpen:!1}},methods:{emit:function(t){this.$emit(t),this.menuOpen=!1}}},L=N,R=(o("8f02"),Object(h["a"])(L,M,E,!1,null,"ee42c39a",null));R.options.__file="MenuButton.vue";var O=R.exports,B=o("8e8d"),U=o("da16"),D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"more_threads"},[o("div",{staticClass:"more_threads__header"},[t._v("More threads in category '"+t._s(t.category.name)+"'")]),t.empty?o("div",{staticClass:"more_threads__empty overlay_message"},[t._v("\n\t\tNo more threads to show\n\t")]):[t._m(0),t._l(t.threads,function(e){return o("div",{staticClass:"more_threads__thread",on:{click:function(o){t.goToThread(e)}}},[o("div",{staticClass:"more_threads__name"},[t._v(t._s(e.name))]),o("div",{staticClass:"more_threads__date_created"},[t._v(t._s(t._f("formatDate")(e.createdAt)))])])})]],2)},Y=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"more_threads__thread more_threads__thread--header"},[o("div",{staticClass:"more_threads__name"},[t._v("Thread")]),o("div",{staticClass:"more_threads__date_created"},[t._v("Date created")])])}],j=o("c4b0"),A={name:"MoreThreads",props:["category","threadId"],data:function(){return{threads:[],empty:!1}},methods:{goToThread:function(t){this.$router.push("/thread/".concat(t.slug,"/").concat(t.id))}},mounted:function(){var t=this;this.axios.get("/api/v1/category/"+this.category.value).then(function(e){var o=e.data.Threads.filter(function(e){return e.id!==t.threadId});t.threads=o.slice(0,4),t.empty=!o.length}).catch(Object(j["a"])(this.$store))}},V=A,F=(o("b4cf"),Object(h["a"])(V,D,Y,!1,null,"38a6e5a2",null));F.options.__file="MoreThreads.vue";var H=F.exports,K=o("bd28"),W=o("84a2"),q=o.n(W),J={name:"Thread",components:{InputEditor:f,ScrollLoad:_["a"],ThreadPost:m["a"],ThreadPostNotification:C,PostScrubber:S,MenuButton:O,LoadingButton:B["a"],ConfirmModal:U["a"],MoreThreads:H},data:function(){return{highlightedPostIndex:null,postNotification:null,showConfirmModal:!1}},computed:{thread:function(){return this.$store.state.thread.thread},posts:function(){return this.$store.getters.sortedPosts},replyUsername:function(){return this.$store.state.thread.reply.username},editor:{get:function(){return this.$store.state.thread.editor.value},set:function(t){this.$store.commit("setThreadEditorValue",t)}},editorState:function(){return this.$store.state.thread.editor.show},replyThreadButton:function(){return this.$store.state.username?"Reply to thread":"Login to reply"}},methods:{deleteThread:function(){this.$store.dispatch("deleteThread",this)},removePosts:function(){this.$store.dispatch("removePostsAsync",this)},setThreadLockedState:function(){this.$store.dispatch("setThreadLockedState",this)},setThreadSelectState:function(){this.$store.commit("setShowRemovePostsButton",!this.$store.state.thread.showRemovePostsButton)},setSelectedPosts:function(t){this.$store.commit("setSelectedPosts",t)},showEditor:function(){this.$store.commit("setThreadEditorState",!0)},hideEditor:function(){this.$store.commit("setThreadEditorState",!1),this.clearReply()},setMentions:function(t){this.$store.commit("setMentions",t)},clearReply:function(){this.$store.commit({type:"setReply",username:"",id:""})},replyThread:function(){this.$store.state.username?(this.clearReply(),this.showEditor()):(this.$store.commit("setAccountTabs",1),this.$store.commit("setAccountModalState",!0))},replyUser:function(t,e,o){this.$store.commit({type:"setReply",username:e,id:t,quote:o}),this.showEditor()},addPost:function(){this.$store.dispatch("addPostAsync",this)},loadNextPosts:function(){var t=this;this.$store.dispatch("loadPostsAsync",{vue:t,previous:!1})},loadPreviousPosts:function(){var t=this;this.$store.dispatch("loadPostsAsync",{vue:t,previous:!0})},loadInitialPosts:function(){this.$store.dispatch("loadInitialPostsAsync",this)},goToPost:function(t,e){var o=this,s=function(t){o.posts.find(function(e){return e.postNumber===t})?o.highlightPost(t):(o.$router.replace({name:"thread-post",params:{post_number:t}}),o.loadInitialPosts())};e?this.axios.get("/api/v1/post/"+t).then(function(t){return s(t.data.postNumber)}):s(t)},scrollTo:function(t,e){var o=this;this.$nextTick(function(){for(var s=function(t){var e=o.$refs.posts[t].$el.getBoundingClientRect().top,s=o.$refs.title.getBoundingClientRect().height;return window.pageYOffset+e-s-32},n=function(t){var n=o.posts[t];window.scrollTo(0,s(t)),e&&e(t,n)},i=0;i<o.posts.length;i++)if(o.posts[i].postNumber===t){o.$refs.posts?n(i):o.$nextTick(function(t){return n(i)});break}})},highlightPost:function(t){var e=this;this.scrollTo(t,function(o){e.highlightedPostIndex=o,e.$router.replace({name:"thread-post",params:{post_number:t}}),e.highlightedPostIndex===o&&setTimeout(function(){return e.highlightedPostIndex=null},3e3)})},showPostNotification:function(t){var e=this;t.username!==this.$store.state.username&&(this.$store.commit("thread/setPostNotification",null),this.$store.commit("thread/setPostNotification",t),setTimeout(function(t){e.$store.commit("thread/setPostNotification",null)},5e3))},goToPostNotification:function(){var t=this.$store.state.thread.postNotification;this.goToPost(t.postNumber),this.$store.commit("thread/setPostNotification",null)}},watch:{"$route.params.id":"loadInitialPosts"},mounted:function(){var t=this,e=this,o=function(){if(e.$refs.posts){var t=e.$refs.posts.sort(function(t,e){return t.post.postNumber-e.post.postNumber}),o=t.find(function(t){var e=t.$el.getBoundingClientRect();return e.top>=74&&e.bottom<=window.innerHeight}),s=t.indexOf(o);if(s>-1){var n=e.posts[s].postNumber;e.$router.replace({name:"thread-post",params:{post_number:n}})}}};document.addEventListener("scroll",q()(o,20)),this.loadInitialPosts(),socket.emit("join","thread/"+this.$route.params.id),socket.on("new post",function(e){t.showPostNotification(e),t.$store.dispatch("loadNewPostsSinceLoad",e)}),Object(K["a"])("thread",this.$route.params.id)},destroyed:function(){socket.emit("leave","thread/"+this.$route.params.id),socket.off("new post")}},Q=J,z=(o("59bf"),Object(h["a"])(Q,s,n,!1,null,"2ec97068",null));z.options.__file="Thread.vue";e["default"]=z.exports},a760:function(t,e,o){},b4cf:function(t,e,o){"use strict";var s=o("cdfd"),n=o.n(s);n.a},c67e:function(t,e,o){},c89d:function(t,e,o){},cdfd:function(t,e,o){},da16:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-window",{attrs:{value:t.showModal},on:{input:t.setShowModal}},[o("div",{staticStyle:{"padding-top":"1rem"},attrs:{slot:"main"},slot:"main"},[t._t("default")],2),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button button--modal",class:t.buttonColor,on:{click:t.confirm}},[t._v(t._s(t.text||"OK"))]),o("button",{staticClass:"button button--modal",on:{click:function(e){t.setShowModal(!1)}}},[t._v("Cancel")])])])},n=[],i=o("6307"),a={name:"ConfirmModal",props:["value","color","text"],components:{ModalWindow:i["a"]},data:function(){return{showModal:!1}},computed:{buttonColor:function(){return this.color?"button--"+this.color:""}},watch:{value:function(t){this.showModal=t}},methods:{setShowModal:function(t){this.showModal=t,this.$emit("input",t)},confirm:function(){this.$emit("confirm"),this.setShowModal(!1)}},mounted:function(){this.setShowModal(this.value)}},r=a,l=o("2877"),c=Object(l["a"])(r,s,n,!1,null,null,null);c.options.__file="ConfirmModal.vue";e["a"]=c.exports},da46:function(t,e,o){"use strict";var s=o("5b95"),n=o.n(s);n.a},ee7b:function(t,e,o){"use strict";var s=o("f784"),n=o.n(s);n.a},f784:function(t,e,o){}}]);
//# sourceMappingURL=chunk-61fc9a70.214ef6b2.js.map