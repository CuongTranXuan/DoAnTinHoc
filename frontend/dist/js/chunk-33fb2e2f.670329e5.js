(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33fb2e2f"],{"0288":function(t,a,e){"use strict";var o=e("b26a"),i=e.n(o);i.a},b26a:function(t,a,e){},c2e0:function(t,a,e){"use strict";var o=e("ca9b"),i=e.n(o);i.a},ca9b:function(t,a,e){},ed44:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"admin_general"},[e("h1",{staticClass:"admin_general__header"},[t._v("General")]),e("admin-categories")],1)},i=[],n=(e("cadf"),e("551c"),e("097d"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"admin_categories"},[e("modal-window",{attrs:{loading:t.loading},model:{value:t.showAddModal,callback:function(a){t.showAddModal=a},expression:"showAddModal"}},[e("div",{attrs:{slot:"main"},slot:"main"},[e("p",[t._v("Add a category")]),e("fancy-input",{attrs:{placeholder:"Category name"},model:{value:t.add.name,callback:function(a){t.$set(t.add,"name",a)},expression:"add.name"}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"button button--modal button--green",on:{click:t.addCategory}},[t._v("Add category")]),e("button",{staticClass:"button button--modal",on:{click:t.toggleAddModal}},[t._v("Cancel")])])]),e("modal-window",{attrs:{loading:t.loading},model:{value:t.showEditModal,callback:function(a){t.showEditModal=a},expression:"showEditModal"}},[e("div",{attrs:{slot:"main"},slot:"main"},[e("p",[t._v("Edit this category")]),e("fancy-input",{attrs:{placeholder:"Category name"},model:{value:t.edit.name,callback:function(a){t.$set(t.edit,"name",a)},expression:"edit.name"}}),e("colour-picker",{model:{value:t.edit.color,callback:function(a){t.$set(t.edit,"color",a)},expression:"edit.color"}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"button button--modal button--green",on:{click:t.editCategory}},[t._v("Update category")]),e("button",{staticClass:"button button--modal",on:{click:function(a){t.toggleEditModal(null)}}},[t._v("Cancel")])])]),e("div",{staticClass:"category_widget__box"},[t._m(0),e("transition-group",{attrs:{name:"slide"}},t._l(t.categories,function(a,o){return e("div",{key:a.id,staticClass:"admin_categories__category"},[e("div",{staticClass:"admin_categories__category__actions_holder"},[e("div",{staticClass:"admin_categories__category__actions"},[e("div",{staticClass:"admin_categories__category__action",on:{click:function(e){t.removeCateogry(a.id,o)}}},[t._v("Remove")]),e("div",{staticClass:"admin_categories__category__action",on:{click:function(e){t.toggleEditModal(a,o)}}},[t._v("Edit")])])]),e("div",{staticClass:"admin_categories__category__color",style:{"background-color":a.color}}),e("div",{staticClass:"admin_categories__category__name"},[t._v(t._s(a.name))])])}),0),e("div",{staticStyle:{"margin-top":"0.5rem"}},[e("div",{staticClass:"admin_categories__category admin_categories__category--add",on:{click:t.toggleAddModal}},[e("div",{staticClass:"admin_categories__category__color fa fa-plus"}),e("div",{staticClass:"admin_categories__category__name"},[t._v("Add new category")])])])],1)],1)}),d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"category_widget__text"},[e("div",{staticClass:"category_widget__text__title"},[t._v("Categories")]),t._v("\n\t\t\tHover to remove or edit a category. "),e("br"),t._v("\n\t\t\tRemoving a category will place any threads in that category into 'Other'\n\t\t")])}],s=(e("7f7f"),e("6307")),c=e("80e3"),r=e("c5af"),l=e("c4b0"),g={name:"AdminCategories",components:{ModalWindow:s["a"],FancyInput:c["a"],LoadingIcon:r["a"]},data:function(){return{loading:!1,showAddModal:!1,showEditModal:!1,add:{name:"",color:"#ffffff"},edit:{name:"",color:"#ffffff",id:null,index:null},categories:[]}},methods:{toggleAddModal:function(){this.add.name="",this.add.color="#ffffff",this.showAddModal=!this.showAddModal},toggleEditModal:function(t,a){t?(this.edit.name=t.name,this.edit.color=t.color,this.edit.id=t.id,this.edit.index=a):(this.edit.name="",this.edit.color="#ffffff",this.edit.id=null,this.edit.index=null),this.showEditModal=!this.showEditModal},addCategory:function(){var t=this;this.loading=!0,this.axios.post("/api/v1/category",{name:this.add.name,color:this.add.color}).then(function(a){t.toggleAddModal(),t.loading=!1,t.categories.push(a.data),t.$store.commit("addCategories",a.data)}).catch(Object(l["a"])(this.$store))},removeCateogry:function(t,a){var e=this;this.axios.delete("/api/v1/category/"+t).then(function(o){e.categories.splice(a,1),e.$store.commit("removeCategory",t),o.data.otherCategoryCreated&&e.$store.commit("addCategories",o.data.otherCategoryCreated)}).catch(Object(l["a"])(this.$store))},editCategory:function(){var t=this;this.loading=!0,this.axios.put("/api/v1/category/"+this.edit.id,{name:this.edit.name,color:this.edit.color}).then(function(a){t.loading=!1,t.categories.splice(t.edit.index,1,a.data),t.$store.commit("updateCategory",a.data),t.toggleEditModal()}).catch(Object(l["a"])(this.$store))}},mounted:function(){var t=this;this.axios.get("/api/v1/category").then(function(a){t.categories=a.data.filter(function(t){return"Other"!==t.name})}).catch(Object(l["a"])(this.$store))}},_=g,m=(e("0288"),e("2877")),u=Object(m["a"])(_,n,d,!1,null,"84e24c74",null);u.options.__file="AdminCategories.vue";var f=u.exports,h={name:"AdminGeneral",components:{AdminCategories:f}},v=h,y=(e("c2e0"),Object(m["a"])(v,o,i,!1,null,"7131ca25",null));y.options.__file="AdminGeneral.vue";a["default"]=y.exports}}]);
//# sourceMappingURL=chunk-33fb2e2f.670329e5.js.map