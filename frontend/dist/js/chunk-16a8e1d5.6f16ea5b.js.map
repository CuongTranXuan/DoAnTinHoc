{"version":3,"sources":["webpack:///./src/components/routes/UserPosts.vue?260a","webpack:///src/components/routes/UserPosts.vue","webpack:///./src/components/routes/UserPosts.vue?ccdb","webpack:///./src/components/routes/UserPosts.vue","webpack:///./src/components/routes/UserPosts.vue?35da"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","user_posts--no_border_bottom","posts","length","_v","_s","username","attrs","loading","loadingPosts","on","loadNext","loadNewPosts","_l","post","index","key","id","post--last","show-thread","click-for-post","n","_e","staticRenderFns","UserPostsvue_type_script_lang_js_","name","props","components","ThreadPost","ScrollLoad","data","nextPostsCount","nextURL","methods","_this","axios","get","then","res","_this$posts","currentPostsIds","map","p","filteredPosts","Posts","filter","includes","push","apply","Object","toConsumableArray","meta","catch","e","errorHandler","$store","created","_this2","dispatch","$route","params","concat","invalidId","response","errors","find","error","commit","logger","routes_UserPostsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserPosts_vue_vue_type_style_index_0_id_2f78b00f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserPosts_vue_vue_type_style_index_0_id_2f78b00f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAAC,MAAA,CAAgCC,+BAAAR,EAAAS,QAAAT,EAAAS,MAAAC,SAAkE,CAAAN,EAAA,OAAYE,YAAA,qBAAgC,CAAAN,EAAAW,GAAA,YAAAX,EAAAY,GAAAZ,EAAAa,aAAAb,EAAAS,MAAAT,EAAAS,MAAA,OAAAL,EAAA,eAAqJU,MAAA,CAAOC,QAAAf,EAAAgB,cAA2BC,GAAA,CAAKC,SAAAlB,EAAAmB,eAA6B,CAAAnB,EAAAoB,GAAApB,EAAA,eAAAqB,EAAAC,GAA0C,OAAAlB,EAAA,eAAyBmB,IAAAF,EAAAG,GAAAjB,MAAA,CAAmBkB,aAAAH,IAAAtB,EAAAS,MAAAC,OAAA,GAA2CI,MAAA,CAAQO,OAAAK,eAAA,EAAAC,kBAAA,OAAwD3B,EAAAoB,GAAApB,EAAA,wBAAA4B,GAA0C,OAAA5B,EAAA,aAAAI,EAAA,2BAAwDmB,IAAAK,IAAM5B,EAAA6B,QAAW,IAAA7B,EAAAW,GAAA,yCAA7gB,CAAAX,EAAAS,MAAAT,EAAA6B,KAAAzB,EAAA,6BAA6gB,IACrwB0B,EAAA,yICsCAC,EAAA,CACAC,KAAA,OACAC,MAAA,aACAC,WAAA,CACAC,aAAA,KACAC,aAAA,MAEAC,KAPA,WAQA,OACA5B,MAAA,KACAO,cAAA,EACAsB,eAAA,EACAC,QAAA,KAGAC,QAAA,CACArB,aADA,WACA,IAAAsB,EAAAxC,KACA,OAAAA,KAAAsC,UAEAtC,KAAAe,cAAA,EAEAf,KAAAyC,MACAC,IAAA1C,KAAAsC,SACAK,KAAA,SAAAC,GAAA,IAAAC,EACAL,EAAAzB,cAAA,EAEAyB,EAAAhC,QAAAgC,EAAAhC,MAAA,IAEA,IAAAsC,EAAAN,EAAAhC,MAAAuC,IAAA,SAAAC,GAAA,OAAAA,EAAAzB,KACA0B,EACAL,EAAAR,KAAAc,MAAAC,OAAA,SAAAH,GAAA,OAAAF,EAAAM,SAAAJ,EAAAzB,OAEAsB,EAAAL,EAAAhC,OAAA6C,KAAAC,MAAAT,EAAAU,OAAAC,EAAA,KAAAD,CAAAN,IACAT,EAAAF,QAAAM,EAAAR,KAAAqB,KAAAnB,QACAE,EAAAH,eAAAO,EAAAR,KAAAqB,KAAApB,iBAEAqB,MAAA,SAAAC,GACAnB,EAAAzB,cAAA,EAEAwC,OAAAK,EAAA,KAAAL,CAAAf,EAAAqB,OAAAN,CAAAI,QAIAG,QA3CA,WA2CA,IAAAC,EAAA/D,KACAA,KAAA6D,OAAAG,SAAA,WAAAhE,KAAAiE,OAAAC,OAAAtD,SAAA,YAEAZ,KAAAyC,MACAC,IADA,gBAAAyB,OACAnE,KAAAiE,OAAAC,OAAAtD,SADA,gBAEA+B,KAAA,SAAAC,GACAmB,EAAAvD,MAAAoC,EAAAR,KAAAc,MACAa,EAAAzB,QAAAM,EAAAR,KAAAqB,KAAAnB,QACAyB,EAAA1B,eAAAO,EAAAR,KAAAqB,KAAApB,iBAEAqB,MAAA,SAAAC,GACA,IAAAS,EAAAT,EAAAU,SAAAjC,KAAAkC,OAAAC,KAAA,SAAAC,GACA,8BAAAA,EAAAzC,OAGAqC,EACAL,EAAAF,OAAAY,OAAA,iBAEAlB,OAAAK,EAAA,KAAAL,CAAAQ,EAAAF,OAAAN,CAAAI,KAIAJ,OAAAmB,EAAA,KAAAnB,CAAA,YAAAvD,KAAAiE,OAAAC,OAAAtD,YCxGkW+D,EAAA,0BCQlWC,EAAgBrB,OAAAsB,EAAA,KAAAtB,CACdoB,EACA7E,EACA+B,GACF,EACA,KACA,WACA,MAIA+C,EAAAE,QAAAC,OAAA,gBACeC,EAAA,WAAAJ,6CCpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAvD,EAAAsD,GAA0jBE,EAAG","file":"js/chunk-16a8e1d5.6f16ea5b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user_posts\",class:{ \"user_posts--no_border_bottom\": _vm.posts && !_vm.posts.length }},[_c('div',{staticClass:\"user_posts__title\"},[_vm._v(\"Posts by \"+_vm._s(_vm.username))]),(!_vm.posts)?[(!_vm.posts)?_c('thread-post-placeholder'):_vm._e()]:(_vm.posts.length)?_c('scroll-load',{attrs:{\"loading\":_vm.loadingPosts},on:{\"loadNext\":_vm.loadNewPosts}},[_vm._l((_vm.posts),function(post,index){return _c('thread-post',{key:post.id,class:{\"post--last\": index === _vm.posts.length-1},attrs:{\"post\":post,\"show-thread\":true,\"click-for-post\":true}})}),_vm._l((_vm.nextPostsCount),function(n){return (_vm.loadingPosts)?_c('thread-post-placeholder',{key:n}):_vm._e()})],2):[_vm._v(\"This user hasn't posted anything yet\")]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class='user_posts' :class='{ \"user_posts--no_border_bottom\": posts && !posts.length }'>\n\t\t<div class='user_posts__title'>Posts by {{username}}</div>\n\n\t\t<template v-if='!posts'>\n\t\t\t<thread-post-placeholder v-if='!posts'>\n\t\t\t</thread-post-placeholder>\n\t\t</template>\n\n\t\t<scroll-load\n\t\t\t:loading='loadingPosts'\n\t\t\t@loadNext='loadNewPosts'\n\t\t\tv-else-if='posts.length'\n\t\t>\n\t\t\t<thread-post\n\t\t\t\tv-for='(post, index) in posts'\n\t\t\t\t:key='post.id'\n\n\t\t\t\t:post='post'\n\t\t\t\t:show-thread='true'\n\t\t\t\t:click-for-post='true'\n\t\t\t\t:class='{\"post--last\": index === posts.length-1}'\n\t\t\t></thread-post>\n\t\t\t<thread-post-placeholder\n\t\t\t\tv-if='loadingPosts'\n\t\t\t\tv-for='n in nextPostsCount'\n\t\t\t\t:key='n'\n\t\t\t></thread-post-placeholder>\n\t\t</scroll-load>\n\t\t<template v-else>This user hasn't posted anything yet</template>\n\t</div>\n</template>\n\n<script>\n\timport ScrollLoad from '../ScrollLoad'\n\timport ThreadPost from '../ThreadPost'\n\timport AjaxErrorHandler from '../../assets/js/errorHandler'\n\timport logger from '../../assets/js/logger'\n\n\texport default {\n\t\tname: 'user',\n\t\tprops: ['username'],\n\t\tcomponents: {\n\t\t\tThreadPost,\n\t\t\tScrollLoad\n\t\t},\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tposts: null,\n\t\t\t\tloadingPosts: false,\n\t\t\t\tnextPostsCount: 0,\n\t\t\t\tnextURL: ''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tloadNewPosts () {\n\t\t\t\tif(this.nextURL === null) return\n\n\t\t\t\tthis.loadingPosts = true\n\n\t\t\t\tthis.axios\n\t\t\t\t\t.get(this.nextURL)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.loadingPosts = false\n\n\t\t\t\t\t\tif(!this.posts) this.posts = []\n\n\t\t\t\t\t\tlet currentPostsIds = this.posts.map(p => p.id)\n\t\t\t\t\t\tlet filteredPosts =\n\t\t\t\t\t\t\tres.data.Posts.filter(p => !currentPostsIds.includes(p.id))\n\n\t\t\t\t\t\tthis.posts.push(...filteredPosts)\n\t\t\t\t\t\tthis.nextURL = res.data.meta.nextURL\n\t\t\t\t\t\tthis.nextPostsCount = res.data.meta.nextPostsCount\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tthis.loadingPosts = false\n\n\t\t\t\t\t\tAjaxErrorHandler(this.$store)(e)\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcreated () {\n\t\t\tthis.$store.dispatch('setTitle', this.$route.params.username + ' | posts')\n\n\t\t\tthis.axios\n\t\t\t\t.get(`/api/v1/user/${this.$route.params.username}?posts=true`)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.posts = res.data.Posts\n\t\t\t\t\tthis.nextURL = res.data.meta.nextURL\n\t\t\t\t\tthis.nextPostsCount = res.data.meta.nextPostsCount\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tlet invalidId = e.response.data.errors.find(error => {\n\t\t\t\t\t\treturn error.name === 'accountDoesNotExist'\n\t\t\t\t\t})\n\n\t\t\t\t\tif(invalidId) {\n\t\t\t\t\t\tthis.$store.commit('set404Page', true)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tAjaxErrorHandler(this.$store)(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\tlogger('userPosts', this.$route.params.username)\n\t\t}\n\t}\n</script>\n\n<style lang='scss' scoped>\n\t@import '../../assets/scss/variables.scss';\n\n\t.user_posts {\n\t\tbackground: #fff;\n\t\tborder-radius: 0.25rem;\n\t\tpadding: 1rem;\n\t\tborder: thin solid $color__gray--darker;\n\t\t\n\t\t@at-root #{&}__title {\n\t\t\tfont-size: 1.5rem;\n\t\t\tmargin-bottom: 1rem;\n\t\t}\n\t}\n\n\t@media (max-width: $breakpoint--tablet) {\n\t\t.user_posts {\n\t\t\tmargin-top: 1rem;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPosts.vue?vue&type=template&id=2f78b00f&scoped=true&\"\nimport script from \"./UserPosts.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPosts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPosts.vue?vue&type=style&index=0&id=2f78b00f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f78b00f\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserPosts.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=style&index=0&id=2f78b00f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=style&index=0&id=2f78b00f&lang=scss&scoped=true&\""],"sourceRoot":""}