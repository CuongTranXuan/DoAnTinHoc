webpackJsonp([18],{0:function(t,e){},"1Po7":function(t,e,n){"use strict";e.a={name:"InfoTooltip",props:["noEvents"],data:function(){return{show:!1,pointerEvents:!1}},methods:{setState:function(t){var e=this;this.noEvents||(t?(this.pointerEvents=!0,this.show=!0,this.$emit("hover")):(this.show=!1,setTimeout(function(){e.show||(e.pointerEvents=!1)},300)))}}}},"1XP8":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("modal-window",{staticStyle:{"z-index":"100"},attrs:{width:"25rem","no-padding":!0},model:{value:t.showAjaxErrorsModal,callback:function(e){t.showAjaxErrorsModal=e},expression:"showAjaxErrorsModal"}},[n("div",{attrs:{slot:"main"},slot:"main"},t._l(this.$store.state.ajaxErrors,function(e){return n("p",{staticStyle:{margin:"1rem"}},[t._v(t._s(e))])})),t._v(" "),n("button",{ref:"ajaxErrorsModalButton",staticClass:"button button--modal",attrs:{slot:"footer"},on:{click:function(e){t.showAjaxErrorsModal=!1}},slot:"footer"},[t._v("\n\t\t\tOK\n\t\t")])]),t._v(" "),n("modal-window",{attrs:{"no-padding":!0,"hide-footer":!0},on:{input:t.closeAccountModal},model:{value:t.showAccountModal,callback:function(e){t.showAccountModal=e},expression:"showAccountModal"}},[n("tab-view",{attrs:{slot:"main",tabs:["Sign up","Login"],padding:"true"},slot:"main",model:{value:t.showAccountTab,callback:function(e){t.showAccountTab=e},expression:"showAccountTab"}},[n("template",{attrs:{slot:"Sign up"},slot:"Sign up"},[t.$store.state.token?n("p",{staticStyle:{"margin-top":"0"}},[n("strong",[t._v("Providing the token is still valid, this will create an admin account")])]):n("p",{staticStyle:{"margin-top":"0"}},[t._v("\n\t\t\t\t\tSign up to create and post in threads.\n\t\t\t\t\t"),n("br"),t._v("It only takes a few seconds\n\t\t\t\t")]),t._v(" "),n("form",{on:{submit:function(e){e.preventDefault(),t.createAccount(e)}}},[n("fancy-input",{attrs:{error:t.signup.errors.username,placeholder:"Username",width:"100%"},model:{value:t.signup.username,callback:function(e){t.signup.username=e},expression:"signup.username"}}),t._v(" "),n("fancy-input",{attrs:{error:t.signup.errors.hash,placeholder:"Password",type:"password",width:"100%"},model:{value:t.signup.password,callback:function(e){t.signup.password=e},expression:"signup.password"}}),t._v(" "),n("fancy-input",{attrs:{error:t.signup.errors.confirmPassword,placeholder:"Confirm password",type:"password",width:"100%"},model:{value:t.signup.confirmPassword,callback:function(e){t.signup.confirmPassword=e},expression:"signup.confirmPassword"}}),t._v(" "),n("div",{staticStyle:{"margin-top":"0.5rem"}},[n("loading-button",{staticClass:"button--green button--margin",attrs:{loading:t.signup.loading},on:{click:t.createAccount}},[t._v("\n\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"button button--borderless",on:{click:t.closeAccountModal}},[t._v("\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t")])],1)],1)]),t._v(" "),n("template",{attrs:{slot:"Login"},slot:"Login"},[n("p",{staticStyle:{"margin-top":"0"}},[t._v("\n\t\t\t\t\tLogin to create and post in threads.\n\t\t\t\t")]),t._v(" "),n("form",{on:{submit:function(e){e.preventDefault(),t.doLogin(e)}}},[n("fancy-input",{attrs:{error:t.login.errors.username,placeholder:"Username",width:"100%"},model:{value:t.login.username,callback:function(e){t.login.username=e},expression:"login.username"}}),t._v(" "),n("fancy-input",{attrs:{error:t.login.errors.hash,placeholder:"Password",type:"password",width:"100%"},model:{value:t.login.password,callback:function(e){t.login.password=e},expression:"login.password"}}),t._v(" "),n("div",{staticStyle:{"margin-top":"0.5rem"}},[n("loading-button",{staticClass:"button button--green button--margin",attrs:{loading:t.login.loading},on:{click:t.doLogin}},[n("span",{staticClass:"fa fa-unlock-alt",staticStyle:{"margin-right":"0.25rem"}}),t._v(" Log in\n\t\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"button button--borderless",on:{click:t.closeAccountModal}},[t._v("\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t")])],1)],1)])],2)],1),t._v(" "),n("header",{staticClass:"header"},[n("div",{staticClass:"header__group"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v(t._s(t.name))])],1),t._v(" "),n("div",{staticClass:"header__group",class:{"header__group--show":t.showMenu}},[t.$store.state.username?[n("notification-button"),t._v(" "),t.$store.state.admin?n("router-link",{staticClass:"button button--thin_text",attrs:{to:"/admin"}},[t._v("\n\t\t\t\t\tAdmin settings\n\t\t\t\t")]):t._e(),t._v(" "),n("router-link",{staticClass:"button button--thin_text",attrs:{to:"/settings"}},[t._v("\n\t\t\t\t\tSettings\n\t\t\t\t")]),t._v(" "),n("loading-button",{staticClass:"button--thin_text",attrs:{loading:t.loadingLogout},on:{click:t.logout}},[t._v("\n\t\t\t\t\tLog out\n\t\t\t\t")])]:[n("div",{staticClass:"button button--green button--thin_text",on:{click:function(e){t.showAccountModalTab(0)}}},[t._v("\n\t\t\t\t\tSign up\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"button button--thin_text",on:{click:function(e){t.showAccountModalTab(1)}}},[t._v("\n\t\t\t\t\tLogin\n\t\t\t\t")])],t._v(" "),n("search-box",{attrs:{"header-bar":"true"}})],2),t._v(" "),n("div",{staticClass:"header__overlay",class:{"header__overlay--show":t.showMenu},on:{click:t.toggleMenu}}),t._v(" "),n("span",{staticClass:"fa fa-bars header__menu_button",on:{click:t.toggleMenu}})]),t._v(" "),n("MyFooter"),t._v(" "),n("not-found",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.show404Page,expression:"$store.state.show404Page"}]}),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("router-view",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.show404Page,expression:"!$store.state.show404Page"}]})],1)],1)},o=[],a={render:s,staticRenderFns:o};e.a=a},"3pCH":function(t,e,n){"use strict";function s(t){return function(e,n){var s=[];void 0===e.response||void 0===e.response.data.errors?s.push("An error occured. Try again later"):e.response.data.errors.forEach(function(t){if(t.path&&n)return void n(t,s);s.push(t.message[0].toUpperCase()+t.message.slice(1))}),s.length&&(t.commit("setAjaxErrors",s),t.commit("setAjaxErrorsModalState",!0))}}e.a=s},"4iqT":function(t,e,n){"use strict";function s(t){n("OrEv")}var o=n("i3E6"),a=n("I/K4"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,null,null);e.a=c.exports},"51lY":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"button loading_button",class:{"loading_button--loading":t.loading},on:{click:function(e){t.event("click")},keydown:function(e){t.event("keydown")}}},[n("loading-icon",{staticClass:"loading_button__icon",attrs:{dark:t.dark}}),t._v(" "),n("div",{staticClass:"loading_button__slot"},[t._t("default")],2)],1)},o=[],a={render:s,staticRenderFns:o};e.a=a},"54D7":function(t,e,n){"use strict";var s=n("Gu7T"),o=n.n(s),a=n("//Fk"),i=n.n(a),r=n("3pCH"),c={thread:"",category:null,threadId:void 0,posts:[],postNotification:null,locked:!1,reply:{username:"",id:null},editor:{show:!1,loading:!1,value:""},mentions:[],loadingPosts:!1,nextURL:"",previousURL:"",nextPostsCount:10,previousPostsCount:0,totalPostsCount:0,selectedPosts:[],removePostsButtonLoading:!1,showRemovePostsButton:!1},u={sortedPosts:function(t){return t.posts.sort(function(t,e){return new Date(t.createdAt)-new Date(e.createdAt)})}},l={deleteThread:function(t,e){var s=t.state;t.commit;e.axios.delete("/api/v1/thread/"+s.threadId).then(function(){e.$router.push("/")}).catch(n.i(r.a)(e.$store))},removePostsAsync:function(t,e){var s=t.state,o=t.commit;o("setRemovePostsButtonLoading",!0);var a=s.selectedPosts.map(function(t){return e.axios.delete("/api/v1/post/"+t)});i.a.all(a).then(function(t){o("setRemovePostsButtonLoading",!1),o("setShowRemovePostsButton",!1),s.posts=s.posts.map(function(t){return s.selectedPosts.includes(t.id)&&(t.content="<p>[This post has been removed by an administrator]</p>"),t}),s.selectedPosts=[]}).catch(function(t){o("setRemovePostsButtonLoading",!1),o("setShowRemovePostsButton",!1),n.i(r.a)(e.$store)(t)})},addPostAsync:function(t,e){var s=t.state,o=t.commit,a=(t.rootState,s.editor.value);s.mentions.forEach(function(t){var e=new RegExp("(^|\\s)@"+t+"($|\\s)");a=a.replace(e,"$1[@"+t+"](/user/"+t+")$2")});var i={content:a,mentions:s.mentions,threadId:+e.$route.params.id};s.reply.id&&(i.replyingToId=s.reply.id),o("setThreadEditorLoading",!0),e.axios.post("/api/v1/post",i).then(function(t){o("setThreadEditorLoading",!1),o("addPost",t.data),o("addReplyBubble",t.data),o("setThreadEditorValue",""),o("setThreadEditorState",!1),o("setTotalPostsCount",s.totalPostsCount+1),o({type:"setReply",username:"",id:""})}).catch(function(t){o("setThreadEditorLoading",!1),n.i(r.a)(e.$store)(t)})},loadInitialPostsAsync:function(t,e){var s=(t.state,t.commit),o=t.dispatch;t.rootState;s("setPosts",[]),s("setThread",{name:"Loading..."}),o("setTitle","Loading...");var a=e.$route.params.post_number,i="/api/v1/thread/"+e.$route.params.id;void 0!==a&&(i+="?postNumber="+a),e.axios.get(i).then(function(t){s("setThread",t.data),o("setTitle",t.data.name),s("setNextURL",t.data.meta.nextURL),s("setLocked",t.data.locked),s("setPreviousURL",t.data.meta.previousURL),s("setNextURL",t.data.meta.nextURL),s("setPreviousURL",t.data.meta.previousURL),s("setPostCounts",t.data.meta),s("setTotalPostsCount",t.data.postsCount),s("setPosts",t.data.Posts),void 0!==a&&(e.$router.push({name:"thread-post",params:{post_number:a}}),e.highlightPost(+a))}).catch(function(t){t.response.data.errors.find(function(t){return"invalidParameter"===t.name&&"id"===t.parameter})?s("set404Page",!0):n.i(r.a)(e.$store)(t)})},loadPostsAsync:function(t,e){var s=t.state,o=t.commit,a=(t.rootState,e.vue),i=e.previous,c=void 0;i?(o("setLoadingPostsState","previous"),c=s.previousURL):(o("setLoadingPostsState","next"),c=s.nextURL),null===c?o("setLoadingPostsState",!1):a.axios.get(c).then(function(t){var e=s.posts.map(function(t){return t.id}),n=t.data.Posts.filter(function(t){return!e.includes(t.id)});if(o("setLoadingPostsState",!1),i){var r=n.slice(-1)[0];o("prependPosts",n),o("setPreviousURL",t.data.meta.previousURL),r&&a.scrollTo(r.postNumber)}else o("addPost",n),o("setNextURL",t.data.meta.nextURL);o("setPostCounts",t.data.meta)}).catch(function(t){console.log(t),n.i(r.a)(a.$store)})},loadNewPostsSinceLoad:function(t,e){var n=t.state,s=t.commit;if(n.nextPostsCount<10){var o=n.nextURL,a="/api/v1/thread/"+n.threadId+"?limit=10&from=";s("incrementNextPostsCount"),null===o&&s("setNextURL",a+(e.postNumber-1))}},setThreadLockedState:function(t,e){var s=t.state,o=t.commit;e.axios.put("/api/v1/thread/"+s.threadId,{locked:!s.locked}).then(function(t){o("setLocked",!s.locked)}).catch(function(t){console.log(t),n.i(r.a)(e.$store)})}},d={setReply:function(t,e){t.reply.username=e.username,t.reply.id=e.id,e.quote&&(t.editor.value=e.quote)},"thread/setPostNotification":function(t,e){t.postNotification=e},addPost:function(t,e){if(Array.isArray(e)){var n;(n=t.posts).push.apply(n,o()(e))}else t.posts.push(e)},prependPosts:function(t,e){var n;(n=t.posts).unshift.apply(n,o()(e))},addReplyBubble:function(t,e){var n={},s=void 0;e.replyId&&(t.posts.forEach(function(t,o){t.id===e.replyId&&(s=o,n=t)}),n.Replies.push(e),t.posts.splice(s,1,n))},setThreadEditorValue:function(t,e){t.editor.value=e},setThreadEditorLoading:function(t,e){t.editor.loading=e},setThreadEditorState:function(t,e){t.editor.show=e},setLoadingPostsState:function(t,e){t.loadingPosts=e},setPosts:function(t,e){t.posts=e},setThread:function(t,e){t.thread=e.name,t.threadId=e.id,t.category=e.Category},setNextURL:function(t,e){t.nextURL=e},setPreviousURL:function(t,e){t.previousURL=e},setPostCounts:function(t,e){t.previousPostsCount=e.previousPostsCount,t.nextPostsCount=e.nextPostsCount},setTotalPostsCount:function(t,e){t.totalPostsCount=e},incrementNextPostsCount:function(t){t.nextPostsCount++},setMentions:function(t,e){t.mentions=e},setLocked:function(t,e){t.locked=e},setSelectedPosts:function(t,e){var n=t.selectedPosts.indexOf(e);n>-1?t.selectedPosts.splice(n,1):t.selectedPosts.push(e)},setRemovePostsButtonLoading:function(t,e){t.removePostsButtonLoading=e},setShowRemovePostsButton:function(t,e){t.showRemovePostsButton=e}};e.a={state:c,getters:u,actions:l,mutations:d}},"5DS7":function(t,e,n){"use strict";var s=n("4iqT");e.a={name:"ModalWindow",props:["value","width","close-button","hide-footer","no-padding","loading"],components:{LoadingIcon:s.a},methods:{closeModal:function(){this.$emit("input",!1)}}}},"7t34":function(t,e){},"7zck":function(t,e){},"9kC7":function(t,e){},AZDn:function(t,e,n){"use strict";var s=n("veuj");e.a={name:"NotFound",components:{SearchBox:s.a}}},AhjO:function(t,e,n){"use strict";var s={selectedCategory:""},o={},a={},i={setSelectedCategory:function(t,e){t.selectedCategory=e}};e.a={state:s,getters:o,actions:a,mutations:i}},Be2M:function(t,e){},Byru:function(t,e){},Eia6:function(t,e){},FehY:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab_view"},[n("div",{staticClass:"tab_view__tabs",class:{"tab_view__tabs--small_tabs":t.smallTabs,"tab_view__tabs--transparent":t.transparent}},t._l(t.tabs,function(e,s){return n("div",{staticClass:"tab_view__tab",class:{"tab_view__tab--selected":t.tabIndex===s,"tab_view__tab--selected_small_tabs":t.tabIndex===s&&t.smallTabs,"tab_view__tab--selected_transparent":t.tabIndex===s&&t.transparent,"tab_view__tab--small_tabs":t.smallTabs,"tab_view__tab--transparent":t.transparent},on:{click:function(e){t.changeTab(s)}}},[t._v("\n\t\t\t"+t._s(e)+"\n\t\t")])})),t._v(" "),n("div",{staticClass:"tab_view__content",class:{"tab_view__content--padding":t.padding,"tab_view__content--transparent":t.transparent}},[t._l(t.tabs,function(e,n){return t.tabIndex===n?t._t(e):t._e()})],2)])},o=[],a={render:s,staticRenderFns:o};e.a=a},"I/K4":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading_icon",class:{"loading_icon--dark":t.dark}},[n("span"),t._v(" "),n("span"),t._v(" "),n("span")])},o=[],a={render:s,staticRenderFns:o};e.a=a},IJpV:function(t,e,n){"use strict";function s(t){n("NuMd")}var o=n("r9+J"),a=n("51lY"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,null,null);e.a=c.exports},IcnI:function(t,e,n){"use strict";var s=n("Gu7T"),o=n.n(s),a=n("7+uW"),i=n("NYxO"),r=n("54D7"),c=n("AhjO"),u=n("kr3L");a.default.use(i.a),e.a=new i.a.Store({state:{meta:{name:"",title:"",categories:[{name:"All",value:"ALL",color:"#1565C0"}]},accountTabs:0,accountModal:!1,username:"",admin:!1,token:null,show404Page:!1,ajaxErrors:[],ajaxErrorsModal:!1},getters:{categoriesWithoutAll:function(t){var e=t.meta.categories.filter(function(t){return-1===["ALL","OTHER"].indexOf(t.value)});return e.unshift({name:"Select a category",disabled:!0}),e.filter(function(t){return"ALL"!==t.value})},title:function(t){return t.meta.title.trim().length?t.meta.name+" | "+t.meta.title:t.meta.name},alphabetizedCategories:function(t){return t.meta.categories.sort(function(t,e){return"All"===t.name?-1:"Other"===t.name||"Other"===e.name?-1:t.name<e.name?-1:t.name>e.name?1:0})}},actions:{setTitle:function(t,e){var n=t.state,s=t.getters;n.meta.title=e,document.title=s.title}},mutations:{setToken:function(t,e){t.token=e},set404Page:function(t,e){t.show404Page=e},setAccountTabs:function(t,e){t.accountTabs=e},setSelectOptions:function(t,e){t.selectOptions[e.name]=e.value},setAccountModalState:function(t,e){t.accountModal=e},setAjaxErrorsModalState:function(t,e){t.ajaxErrorsModal=e},setAjaxErrors:function(t,e){t.ajaxErrors=e},setUsername:function(t,e){t.username=e},setAdmin:function(t,e){t.admin=e},setSettings:function(t,e){t.meta.name=e.forumName,t.meta.description=e.forumDescription,t.meta.showDescription=e.showDescription},addCategories:function(t,e){if(Array.isArray(e)){var n;(n=t.meta.categories).push.apply(n,o()(e))}else t.meta.categories.push(e)},removeCategory:function(t,e){var n=t.meta.categories.filter(function(t){return t.id===e}),s=t.meta.categories.indexOf(n);t.meta.categories.splice(s,1)},updateCategory:function(t,e){var n=t.meta.categories.filter(function(t){return t.id===e.id}),s=t.meta.categories.indexOf(n);t.meta.categories.splice(s,1,e)}},modules:{thread:r.a,category:c.a,moderation:u.a}})},K5m2:function(t,e){},Keen:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fancy_input",style:{width:t.width||"auto"}},[n("div",{staticStyle:{position:"relative",display:"inline-block"}},[n("div",{staticClass:"fancy_input__placeholder",class:{"fancy_input__placeholder--active":t.active||t.value.length,"fancy_input__placeholder--large":t.large}},[t._v("\n\t\t\t"+t._s(t.placeholder)+"\n\t\t")]),t._v(" "),n("input",{staticClass:"fancy_input__input input",class:{"fancy_input__input--large":t.large,"fancy_input__input--error":t.error},attrs:{type:t.type||"text"},domProps:{value:t.value},on:{input:function(e){t.updateValue(e.target.value)},focus:t.addActive,blur:t.removeActive}})]),t._v(" "),n("error-tooltip",{attrs:{error:t.error}})],1)},o=[],a={render:s,staticRenderFns:o};e.a=a},KwCT:function(t,e,n){"use strict";var s=n("NKE3"),o=n("3pCH");e.a={name:"AvatarIcon",props:["user","size"],components:{InfoTooltip:s.a},data:function(){return{userData:null}},computed:{proxyUser:function(){return this.userData?this.userData:this.user?this.user:{}},letter:function(){return this.proxyUser.username&&!this.proxyUser.picture?this.proxyUser.username[0].toUpperCase():""},pictureURL:function(){return this.proxyUser.picture?"url("+this.proxyUser.picture+")":null}},methods:{loadUser:function(){var t=this;this.userData||null===this.user||this.axios.get("/api/v1/user/"+this.proxyUser.username).then(function(e){t.userData=e.data}).catch(n.i(o.a)(this.$store))},goToUser:function(){null!==this.user&&this.$router.push("/user/"+this.user.username)}},mounted:function(){this.loadUser()}}},KxhB:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"root",staticClass:"search_box"},[n("div",{staticClass:"search_box__input",attrs:{tabindex:"0"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.goToSearch(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchField,expression:"searchField"}],ref:"input",staticClass:"search_box__input__field",class:{"search_box__input__field--header":t.headerBar},attrs:{placeholder:t.placeholder||"Search this forum"},domProps:{value:t.searchField},on:{focus:t.setShowResults,input:[function(e){e.target.composing||(t.searchField=e.target.value)},t.setShowResults],keydown:t.setKeyHighlight}}),t._v(" "),n("button",{staticClass:"search_box__input__button",on:{click:t.goToSearch}},[n("span",{staticClass:"fa fa-search"})])]),t._v(" "),t.headerBar?n("div",{staticClass:"search_box__results",class:{"search_box__results--show":t.showResults}},[n("div",{ref:"results",staticClass:"search_box__results__container"},[t.threads.length?[n("div",{staticClass:"search_box__results__header"},[t._v("Threads")]),t._v(" "),n("div",{ref:"threads header",staticClass:"search_box__results__search_all",class:{"search_box__results--highlight":t.highlightIndex===t.getHighlightIndex("threads header")},on:{mouseover:function(e){t.highlightIndex=t.getHighlightIndex("threads header")},click:t.goToSearch}},[n("span",{staticClass:"fa fa-fw fa-search"}),t._v(" "),n("div",[t._v("\n\t\t\t\t\t\tSearch all threads for '"),n("strong",[t._v(t._s(t.searchField))]),t._v("'\n\t\t\t\t\t")])]),t._v(" "),t._l(t.threads,function(e,s){return n("div",{ref:"threads",refInFor:!0,staticClass:"search_box__results__thread",class:{"search_box__results--highlight":t.highlightIndex===t.getHighlightIndex("threads",s)},on:{mouseover:function(e){t.highlightIndex=t.getHighlightIndex("threads",s)},click:t.goToSearch}},[n("div",{staticClass:"search_box__results__title"},[t._v(t._s(t._f("truncate")(e.name,50)))]),t._v(" "),n("div",{staticClass:"search_box__results__content"},[t._v(t._s(t._f("truncate")(t._f("stripTags")(e.Posts[0].content),75)))])])})]:t._e(),t._v(" "),t.users.length?[n("div",{staticClass:"search_box__results__header search_box__results__header--divider"},[t._v("Users")]),t._v(" "),n("div",{ref:"users header",staticClass:"search_box__results__search_all",class:{"search_box__results--highlight":t.highlightIndex===t.getHighlightIndex("users header")},on:{mouseover:function(e){t.highlightIndex=t.getHighlightIndex("users header")},click:t.goToSearch}},[n("span",{staticClass:"fa fa-fw fa-search"}),t._v(" "),n("div",[t._v("\n\t\t\t\t\t\tSearch all users containing '"),n("strong",[t._v(t._s(t.searchField))]),t._v("'\n\t\t\t\t\t")])]),t._v(" "),t._l(t.users,function(e,s){return n("div",{ref:"users",refInFor:!0,staticClass:"search_box__results__user",class:{"search_box__results--highlight":t.highlightIndex===t.getHighlightIndex("users",s)},on:{mouseover:function(e){t.highlightIndex=t.getHighlightIndex("users",s)},click:t.goToSearch}},[n("avatar-icon",{attrs:{size:"tiny",user:e}}),t._v(" "),n("div",{staticClass:"search_box__results__title"},[t._v(t._s(e.username))])],1)})]:t._e(),t._v(" "),t.threads.length||t.users.length||t.loading?t._e():n("div",{staticClass:"search_box__results__message"},[t._v("\n\t\t\t\tNo users or threads found for '"),n("strong",[t._v(t._s(t.searchField))]),t._v("'\n\t\t\t")]),t._v(" "),t.loading?n("div",{staticClass:"search_box__results__message"},[t._v("\n\t\t\t\tLoading...\n\t\t\t")]):t._e()],2)]):t._e()])},o=[],a={render:s,staticRenderFns:o};e.a=a},LU4o:function(t,e,n){"use strict";e.a={data:function(){return{icons:["fab fa-facebook","fab fa-github"]}}}},M93x:function(t,e,n){"use strict";function s(t){n("ynLf")}var o=n("xJD8"),a=n("1XP8"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("fZjL"),o=n.n(s),a=n("bOdI"),i=n.n(a),r=n("pFYg"),c=n.n(r),u=n("Gu7T"),l=n.n(u),d=n("Y81h"),h=n.n(d),_=n("DmT9"),f=n.n(_),p=n("7+uW"),m=n("/ocq"),v=n("NYxO"),g=n("mtWM"),b=n.n(g),x=n("Rf8U"),w=n.n(x),y=n("VFLc"),C=n("7zck"),P=(n.n(C),n("M93x")),k=n("IcnI"),T=n("3EgV"),$=n.n(T),L=n("NIiD");window.socket=f()(),socket.on("disconnect",function(){socket.connect("http://localhost:3000",{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:1/0})}),window.onload=function(){var t,e=document.createElement("div");e.innerHTML='<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">',(t=document.head).append.apply(t,l()(e.children))};var E=function(){return n.e(3).then(n.bind(null,"XJTb"))},M=function(){return n.e(16).then(n.bind(null,"yIvK"))},S=function(){return n.e(10).then(n.bind(null,"v19U"))},I=function(){return n.e(1).then(n.bind(null,"BTX1"))},U=function(){return n.e(2).then(n.bind(null,"Pln5"))},A=function(){return n.e(7).then(n.bind(null,"h6A8"))},R=function(){return n.e(6).then(n.bind(null,"/7E3"))},N=function(){return n.e(13).then(n.bind(null,"J591"))},F=function(){return n.e(4).then(n.bind(null,"ltbl"))},B=function(){return n.e(8).then(n.bind(null,"tA95"))},j=function(){return n.e(14).then(n.bind(null,"HIPT"))},H=function(){return n.e(9).then(n.bind(null,"1coq"))},D=function(){return n.e(12).then(n.bind(null,"uNje"))},O=function(){return n.e(15).then(n.bind(null,"kEkw"))},V=function(){return n.e(0).then(n.bind(null,"++9w"))},K=function(){return n.e(11).then(n.bind(null,"eI4x"))},q=function(){return n.e(5).then(n.bind(null,"x5eu"))};p.default.use(m.a),p.default.use(v.a),p.default.use(w.a,b.a),p.default.use(y.a),p.default.use($.a);var z=new m.a({routes:[{path:"/",redirect:"/category/all"},{path:"/category/:category",component:E},{path:"/p/:id",component:M},{path:"/start",component:S},{path:"/thread/:slug/:id",component:I},{path:"/thread/:slug/:id/:post_number",name:"thread-post",component:I},{path:"/thread/new",component:U},{path:"/search/:q",component:A},{path:"/search/users/:q",component:R,name:"search/users"},{path:"/search/threads/:q",component:R,name:"search/threads"},{path:"/user/:username",redirect:"/user/:username/posts",component:N,children:[{path:"posts",component:F},{path:"threads",component:B}]},{path:"/settings",redirect:"/settings/general",component:j,children:[{path:"general",component:H},{path:"account",component:D}]},{path:"/admin",redirect:"/admin/dashboard",component:O,children:[{path:"dashboard",component:V},{path:"general",component:K},{path:"users",component:q}]},{path:"*",component:L.a}],mode:"history"});z.beforeEach(function(t,e,n){z.app.$store.commit("set404Page",!1),"thread-post"===t.name||"thread-post"===e.name||t.params.id&&t.params.id===e.params.id||h.a.start(),n()}),z.afterEach(function(){h.a.done()}),p.default.filter("formatDate",function(t){function e(t){return t<10?"0"+t:""+t}function n(t,e){return 1===e?t:t+"s"}arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==(void 0===t?"undefined":c()(t))&&(t=new Date(t));var s=new Date(new Date-t);if(s<=12e4)return"Just now";if(s<=36e5)return s.getMinutes()+" minutes ago";if(s<=864e5){var o=s.getHours();return o+" "+n("hour",o)+" ago"}if(s<=1728e5){var a=Math.floor(s/864e5);return a+" "+n("day",a)+" ago at "+t.toTimeString().slice(0,5)}return e(t.getDate())+"/"+e(t.getMonth()+1)+"/"+t.getUTCFullYear()}),p.default.filter("stripTags",function(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent||""}),p.default.filter("truncate",function(t,e){return t.length<=e?t:t.slice(0,e)+"..."}),p.default.filter("pluralize",function(t,e){return 1===t?e:e+"s"});var Y=new p.default({el:"#app",template:"<App/>",store:k.a,components:{App:P.a},router:z}),J=document.cookie.split(";").map(function(t){return t.split("=").map(function(t){return t.trim()})}).map(function(t){var e=t[0],n=t[1];return i()({},e,n)}).reduce(function(t,e){var n=o()(e)[0];return t[n]=e[n],t},{});J.username&&Y.$store.commit("setUsername",J.username),"false"===J.admin?Y.$store.commit("setAdmin",!1):"true"===J.admin&&Y.$store.commit("setAdmin",!0)},NIiD:function(t,e,n){"use strict";function s(t){n("Be2M")}var o=n("AZDn"),a=n("RiAa"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-322cb6c5",null);e.a=c.exports},NKE3:function(t,e,n){"use strict";function s(t){n("Eia6")}var o=n("1Po7"),a=n("Q0Pr"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,null,null);e.a=c.exports},NaOi:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal_window__overlay",class:{"modal_window--show":t.value},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.closeModal(e)}}},[n("div",{staticClass:"modal_window",class:{"modal_window--show":t.value},style:{width:t.width||"20rem"}},[n("div",{staticClass:"modal_window__loading_overlay",class:{"modal_window__loading_overlay--show":t.loading}},[n("loading-icon")],1),t._v(" "),t.closeButton?n("span",{staticClass:"modal_window__close fa fa-times",on:{click:t.closeModal}}):t._e(),t._v(" "),n("div",{staticClass:"modal_window__main",class:{"modal_window__main--no_padding":t.noPadding}},[t._t("main")],2),t._v(" "),t.hideFooter?t._e():n("div",{staticClass:"modal_window__footer"},[t._t("footer")],2)])])},o=[],a={render:s,staticRenderFns:o};e.a=a},NuMd:function(t,e){},OrEv:function(t,e){},PMzL:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification_button"},[n("div",{staticClass:"notification_button__overlay",class:{"notification_button__overlay--show":t.showMenu},on:{click:function(e){t.setShowMenu(!1)}}}),t._v(" "),n("button",{staticClass:"button notification_button__button",class:{"notification_button__button--shake":t.shake},on:{click:function(e){t.setShowMenu(!t.showMenu)}}},[n("span",{staticClass:"far fa-bell notification_button__button__icon"}),t._v(" "),n("span",{staticClass:"notification_button__button__count",class:{"notification_button__button__count--none":!t.unreadCount,"notification_button__button__count--two_figure":t.unreadCount>9,"notification_button__button__count--three_figure":t.unreadCount>99}},[t._v(t._s(t.unreadCountText))])]),t._v(" "),n("div",{staticClass:"notification_button__menu_group",class:{"notification_button__menu_group--show":t.showMenu}},[n("div",{staticClass:"notification_button__triangle"}),t._v(" "),n("div",{staticClass:"notification_button__menu"},[t._l(t.notifications,function(e,s){return e.PostNotification.Post?n("div",{staticClass:"notification_button__menu__item",class:{"notification_button__menu__item--uninteracted":!e.interacted,"notification_button__menu__item--no_border":s>2},on:{click:function(n){t.click(e)}}},[n("div",{staticClass:"notification_button__menu__item__header"},["mention"===e.type?n("span",[t._v("New mention")]):"reply"===e.type?n("span",[t._v("Reply to your post")]):t._e(),t._v(" "),n("span",[n("span",{staticClass:"notification_button__menu__item__header__date"},[t._v(t._s(t._f("formatDate")(e.createdAt)))]),t._v(" "),n("span",{staticClass:"notification_button__menu__item__header__close",on:{click:function(n){n.stopPropagation(),t.deleteNotification(e.id)}}},[t._v("×")])])]),t._v(" "),n("div",[t.isYouOrDeleted(e.PostNotification.User)?n("span",[t._v("\n\t\t\t\t\t"+t._s(e.PostNotification.User?"You":"[deleted]")+"\n\t\t\t\t")]):n("span",{staticClass:"notification_button__menu__item__link"},[t._v("\n\t\t\t\t\t"+t._s(e.PostNotification.User.username)+"\n\t\t\t\t")]),t._v('\n\n\t\t\t\twrote\n\t\t\t\t"'+t._s(t._f("truncate")(t._f("stripTags")(e.PostNotification.Post.content),50))+'"\n\t\t\t')])]):t._e()}),t._v(" "),t.notifications.length?t._e():n("div",{staticClass:"notification_button__menu__empty"},[t._v("\n\t\t\t\tNo notifications\n\t\t\t")])],2)])])},o=[],a={render:s,staticRenderFns:o};e.a=a},Q0Pr:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info_tooltip",on:{mouseenter:function(e){t.setState(!0)},mouseleave:function(e){t.setState(!1)}}},[n("div",{staticClass:"info_tooltip__content",class:{"info_tooltip__content--show":t.show,"info_tooltip__content--pointer_events":t.pointerEvents}},[t._t("content")],2),t._v(" "),n("div",{staticClass:"info_tooltip__display",class:{"info_tooltip__display--hover":t.show}},[t._t("display")],2)])},o=[],a={render:s,staticRenderFns:o};e.a=a},RiAa:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"route_container not_found"},[n("h1",{staticClass:"not_found__title"},[t._v("404 - page not found")]),t._v(" "),n("div",{staticClass:"not_found__box"},[n("p",{staticClass:"not_found__box--large_text"},[t._v("\n\t\t\tThe page you're looking for "),n("strong",[t._v(t._s(t.$route.fullPath))]),t._v(" doesn't exist.\n\t\t")]),t._v(" "),n("p",[n("router-link",{staticClass:"button",attrs:{to:"/"}},[t._v("Click to go home")]),t._v(" "),n("span",[t._v("or")]),t._v(" "),n("search-box",{staticClass:"not_found__search_box",attrs:{placeholder:"Try a search"}})],1)])])},o=[],a={render:s,staticRenderFns:o};e.a=a},VFLc:function(t,e,n){"use strict";var s=n("c/Tr"),o=n.n(s),a={};e.a={install:function(t){t.prototype.$linkExpander=function(e,n){var s=0,i=function(){++s===u.length&&n(c.innerHTML)},r=function(t,e){if(t.length){var n=document.createElement("div");n.innerHTML=t,e.parentNode.replaceChild(n.children[0],e)}i()},c=document.createElement("div");c.innerHTML=e;var u=o()(c.querySelectorAll("p a[href]")).filter(function(t){return t.parentNode.parentNode===c&&1===t.parentNode.childNodes.length&&t.innerHTML===t.href});u.forEach(function(e){var n=a[e.href];n?r(n,e):t.axios.get("/api/v1/link_preview?url="+e.href).then(function(t){a[e.href]=t.data,r(t.data,e)}).catch(i)})}}}},"agS/":function(t,e,n){"use strict";var s=n("woOf"),o=n.n(s),a=n("3pCH");e.a={name:"NotificationButton",data:function(){return{unreadCount:0,notifications:[],showMenu:!1,shake:!1}},computed:{unreadCountText:function(){return this.unreadCount>99?"99+":this.unreadCount}},methods:{isYouOrDeleted:function(t){return!t||t.username===this.$store.state.username},setShowMenu:function(t){this.showMenu=t,t?this.resetUnreadCount():setTimeout(200)},getIndexById:function(t){var e=void 0;return this.notifications.forEach(function(n,s){n.id===t&&(e=s)}),e},getNotifications:function(){var t=this;this.axios.get("/api/v1/notification").then(function(e){t.notifications=e.data.Notifications,t.unreadCount=e.data.unreadCount}).catch(n.i(a.a)(this.$store))},resetUnreadCount:function(){var t=this;this.axios.put("/api/v1/notification").then(function(e){t.unreadCount=0}).catch(n.i(a.a)(this.$store))},deleteNotification:function(t){var e=this,s=this.getIndexById(t);this.axios.delete("/api/v1/notification/"+t).then(function(t){e.notifications.splice(s,1)}).catch(n.i(a.a)(this.$store))},setInteracted:function(t){var e=this,s=this.getIndexById(t),i=this.notifications[s];this.axios.put("/api/v1/notification/"+t).then(function(t){e.$set(e.notifications,s,o()(i,{interacted:!0}))}).catch(n.i(a.a)(this.$store))},click:function(t){t.interacted||this.setInteracted(t.id),"mention"===t.type||"reply"===t.type?this.$router.push("/p/"+t.PostNotification.Post.id):"reply"===t.type&&this.$router.push("/p/"+t.PostNotification.Post.id),this.setShowMenu(!1)}},created:function(){var t=this;this.$store.state.username&&this.getNotifications(),socket.on("notification",function(e){t.unreadCount++,t.notifications.unshift(e),t.shake=!0,setTimeout(function(e){t.shake=!1},1e3)})},watch:{"$store.state.username":"getNotifications"}}},anxR:function(t,e){},cPN6:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"error_tooltip",class:{"error_tooltip--show":t.error}},[t._v("\n\t"+t._s(t.delayed_error)+"\n")])},o=[],a={render:s,staticRenderFns:o};e.a=a},csn3:function(t,e,n){"use strict";function s(t){n("K5m2")}var o=n("gxEt"),a=n("FehY"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-12b676cb",null);e.a=c.exports},gxEt:function(t,e,n){"use strict";e.a={name:"TabView",props:["tabs","value","padding","small-tabs","transparent"],methods:{changeTab:function(t){this.$emit("input",t)}},computed:{tabIndex:function(){return this.value}}}},h3FW:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{dark:"",height:"auto"}},[n("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[n("v-card-title",{staticClass:"teal"},[n("strong",{staticClass:"subheading"},[t._v("1 sản phẩm của Team5!")]),t._v(" "),n("v-spacer"),t._v(" "),t._l(t.icons,function(e){return n("v-btn",{key:e,staticClass:"mx-3",attrs:{dark:"",icon:""}},[n("v-icon",{attrs:{size:"24px"}},[t._v(t._s(e))])],1)})],2),t._v(" "),n("v-card-actions",{staticClass:"grey darken-3 justify-center"},[t._v("\n      ©2019 — "),n("strong",[t._v("Team5")])])],1)],1)},o=[],a={render:s,staticRenderFns:o};e.a=a},i3E6:function(t,e,n){"use strict";e.a={name:"LoadingIcon",props:["dark"]}},kr3L:function(t,e,n){"use strict";var s={showAddNewBanModal:!1,username:"",message:"",options:[{name:"Select a ban type",disabled:!0},{name:"Block user's known ip addresses",value:"ip"},{name:"Ban from creating new threads",value:"thread"},{name:"Ban from replying to threads",value:"post"},{name:"Ban from both",value:"both"}],selectedOption:0},o={},a={"moderation/clearModal":function(t){var e=t.commit;e("moderation/setUsername",""),e("moderation/setMessage",""),e("moderation/setSelectedOption",0)}},i={"moderation/setUsername":function(t,e){t.username=e},"moderation/setMessage":function(t,e){t.message=e},"moderation/setModal":function(t,e){t.showAddNewBanModal=e},"moderation/setSelectedOption":function(t,e){t.selectedOption=e}};e.a={state:s,getters:o,actions:a,mutations:i}},kvFS:function(t,e,n){"use strict";function s(t){n("Byru")}var o=n("KwCT"),a=n("pEFM"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,null,null);e.a=c.exports},lLoj:function(t,e,n){"use strict";var s=n("n/Ga");e.a={name:"FancyInput",props:["value","placeholder","width","type","error","large"],components:{ErrorTooltip:s.a},data:function(){return{active:!1}},methods:{updateValue:function(t){this.$emit("input",t)},addActive:function(){this.active=!0},removeActive:function(){this.active=!1}}}},"n/Ga":function(t,e,n){"use strict";function s(t){n("anxR")}var o=n("sImx"),a=n("cPN6"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-3c7f543a",null);e.a=c.exports},o46f:function(t,e,n){"use strict";function s(t){n("qNNw")}var o=n("5DS7"),a=n("NaOi"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-3340ec24",null);e.a=c.exports},oTdU:function(t,e,n){"use strict";function s(t){n("9kC7")}var o=n("agS/"),a=n("PMzL"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-6f9b251c",null);e.a=c.exports},opPZ:function(t,e,n){"use strict";var s=n("kvFS"),o=n("3pCH");e.a={name:"SearchBox",props:["placeholder","header-bar"],components:{AvatarIcon:s.a},data:function(){return{searchField:"",showResults:!1,loading:!1,highlightIndex:null,threads:[],users:[]}},computed:{totalHighlightOptions:function(){var t=0;return this.threads.length&&(t+=this.threads.length+1),this.users.length&&(t+=this.users.length+1),t}},methods:{setShowResults:function(){this.headerBar&&(this.showResults=this.searchField.trim().length>3,this.showResults?this.getResults():this.resetResultsBox())},resetResultsBox:function(){var t=this;this.headerBar&&(this.showResults=!1,setTimeout(function(){t.highlightIndex=null,t.$refs.results.scrollTop=0,t.threads=[],t.users=[]},200))},getHighlightIndex:function(t,e){if("threads header"===t)return 0;if("threads"===t)return 1+e;if("users"===t||"users header"===t){var n=0;return this.threads.length&&(n+=1+this.threads.length),"users"===t&&(n+=1+e),n}},getGroupFromIndex:function(t){return this.threads.length&&t<=this.threads.length?0===t?{group:"threads header",index:null}:{group:"threads",index:t-1}:this.threads.length&&t>this.threads.length?t===this.threads.length+1?{group:"users header",index:null}:{group:"users",index:t-1-this.threads.length-1}:this.users.length?0===t?{group:"users header",index:null}:{group:"users",index:t-1}:void 0},setKeyHighlight:function(t){if(this.headerBar&&[38,40].includes(t.keyCode)){var e=40===t.keyCode?1:-1;if(null===this.highlightIndex)this.highlightIndex=1===e?0:this.totalHighlightOptions-1;else{var n=this.highlightIndex+e;if(n===this.totalHighlightOptions||n<0)return void(this.highlightIndex=null);this.highlightIndex=n}var s=this.getGroupFromIndex(this.highlightIndex),o=s.group,a=s.index,i=null===a?this.$refs[o]:this.$refs[o][a];(i.offsetHeight+i.offsetTop>this.$refs.results.offsetHeight||i.offsetTop<this.$refs.results.scrollTop)&&i.scrollIntoView()}},goToSearch:function(){var t=encodeURIComponent(this.searchField.trim());if(null===this.highlightIndex&&this.searchField.trim().length)this.showResults=!1,this.$router.push("/search/"+t);else{var e=this.getGroupFromIndex(this.highlightIndex),n=e.group,s=e.index;if("users"===n)this.$router.push("/user/"+this.users[s].username);else if("threads"===n){var o=this.threads[s];this.$router.push("/thread/"+o.slug+"/"+o.id)}else"users header"===n?this.$router.push("/search/users/"+t):this.$router.push("/search/threads/"+t);this.resetResultsBox()}this.$refs.input.blur()},getResults:function(){var t=this,e=this.searchField.trim();e.length<4||(this.loading=!0,this.threads=[],this.users=[],this.axios.get("/api/v1/search/thread?q="+e).then(function(e){t.threads=e.data.threads.slice(0,3),t.loading=!1}).catch(n.i(o.a)(this.$store)),this.axios.get("/api/v1/search/user?q="+e).then(function(e){t.users=e.data.users.slice(0,5),t.loading=!1}).catch(n.i(o.a)(this.$store)))}},mounted:function(){var t=this;document.body.addEventListener("click",function(e){t.showResults&&t.$refs.root&&!t.$refs.root.contains(e.target)&&t.resetResultsBox()})}}},pEFM:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("info-tooltip",{staticClass:"avatar_icon",attrs:{noEvents:null===t.user}},[n("template",{attrs:{slot:"content"},slot:"content"},[t.userData?[n("div",{staticClass:"avatar_icon__header"},[n("div",{staticClass:"avatar_icon__icon avatar_icon__icon--small picture_circle",style:{"background-color":t.proxyUser.color,"background-image":t.pictureURL},on:{click:t.goToUser}},[t._v("\n\t\t\t\t\t"+t._s(t.letter)+"\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"avatar_icon__header_info"},[n("span",{staticClass:"avatar_icon__username",on:{click:function(e){e.stopPropagation(),t.goToUser(e)}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.proxyUser.username)+"\n\t\t\t\t\t\t"),t.proxyUser.admin?n("span",{staticClass:"admin_badge"},[t._v("admin")]):t._e()]),t._v(" "),n("span",{staticClass:"avatar_icon__date"},[t._v("User since "+t._s(t._f("formatDate")(t.proxyUser.createdAt,"date")))])])]),t._v(" "),t.proxyUser.description?n("div",{staticClass:"avatar_icon__description"},[t._v("\n\t\t\t\t"+t._s(t.proxyUser.description)+"\n\t\t\t")]):t._e()]:[t._v("Loading...")]],2),t._v(" "),n("div",{staticClass:"avatar_icon__icon picture_circle",class:{"avatar_icon__icon--small":"small"===t.size,"avatar_icon__icon--tiny":"tiny"===t.size},style:{"background-color":t.proxyUser.color,"background-image":t.pictureURL},attrs:{slot:"display"},on:{click:function(e){e.stopPropagation(),t.goToUser(e)}},slot:"display"},[t._v("\n\t\t"+t._s(t.letter)+"\n\t")])],2)},o=[],a={render:s,staticRenderFns:o};e.a=a},pkkc:function(t,e,n){"use strict";var s=n("LU4o"),o=n("h3FW"),a=n("VU/8"),i=a(s.a,o.a,null,null,null);e.a=i.exports},qNNw:function(t,e){},"r9+J":function(t,e,n){"use strict";var s=n("4iqT");e.a={name:"LoadingButton",props:["loading","dark"],components:{LoadingIcon:s.a},methods:{event:function(t){this.loading||this.$emit(t)}}}},sImx:function(t,e,n){"use strict";e.a={name:"ErrorTooltip",props:["error"],data:function(){return{delayed_error:this.error}},watch:{error:function(t){var e=this;t?this.delayed_error=t:setTimeout(function(){e.delayed_error=""},205)}}}},veuj:function(t,e,n){"use strict";function s(t){n("7t34")}var o=n("opPZ"),a=n("KxhB"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-68bde998",null);e.a=c.exports},xJD8:function(t,e,n){"use strict";var s=n("o46f"),o=n("csn3"),a=n("yILp"),i=n("IJpV"),r=n("oTdU"),c=n("veuj"),u=n("pkkc"),l=n("NIiD"),d=n("3pCH");e.a={name:"app",components:{ModalWindow:s.a,TabView:o.a,FancyInput:a.a,LoadingButton:i.a,NotificationButton:r.a,SearchBox:c.a,NotFound:l.a,MyFooter:u.a},data:function(){return{signup:{username:"",password:"",confirmPassword:"",loading:!1,errors:{username:"",hash:"",confirmPassword:""}},login:{username:"",password:"",loading:!1,errors:{username:"",hash:""}},loadingLogout:!1,showMenu:!1,ajaxErrorHandler:n.i(d.a)(this.$store)}},computed:{name:function(){return this.$store.state.meta.name},showAccountModal:{get:function(){return this.$store.state.accountModal},set:function(t){this.$store.commit("setAccountModalState",t)}},showAjaxErrorsModal:{get:function(){return this.$store.state.ajaxErrorsModal},set:function(t){this.$store.commit("setAjaxErrorsModalState",t)}},showAccountTab:{get:function(t){return this.$store.state.accountTabs},set:function(t){this.$store.commit("setAccountTabs",t)}},categories:function(){return this.$store.state.meta.categories}},methods:{showAccountModalTab:function(t){this.toggleMenu(),this.showAccountModal=!0,this.showAccountTab=t},toggleMenu:function(){this.showMenu=!this.showMenu},logout:function(){var t=this;this.toggleMenu(),this.loadingLogout=!0,this.axios.post("/api/v1/user/"+this.$store.state.username+"/logout").then(function(e){t.loadingLogout=!1,t.$store.commit("setUsername",""),t.$store.commit("setAdmin",e.data.admin),socket.emit("accountEvent"),t.$router.push("/")}).catch(function(e){t.loadingLogout=!1,t.ajaxErrorHandler(e)})},clearSignup:function(){this.signup.username="",this.signup.password="",this.signup.confirmPassword="",this.$store.commit("setToken",null)},clearSignupErrors:function(){this.signup.errors.username="",this.signup.errors.hash="",this.signup.errors.confirmPassword=""},clearLogin:function(){this.login.username="",this.login.password=""},clearLoginErrors:function(){this.login.errors.username="",this.login.errors.hash=""},closeAccountModal:function(){this.showAccountModal=!1,this.clearLogin(),this.clearSignup(),this.clearLoginErrors(),this.clearSignupErrors()},createAccount:function(){var t=this;this.clearSignupErrors();var e={username:this.signup.username,password:this.signup.password};this.$store.state.token&&(e.admin=!0,e.token=this.$store.state.token),this.signup.password!==this.signup.confirmPassword?this.signup.errors.confirmPassword="Passwords must match":(this.signup.loading=!0,this.axios.post("/api/v1/user",e).then(function(e){t.signup.loading=!1,t.$store.commit("setUsername",e.data.username),t.$store.commit("setAdmin",e.data.admin),t.closeAccountModal(),socket.emit("accountEvent")}).catch(function(e){t.signup.loading=!1,t.ajaxErrorHandler(e,function(e){var n=e.path;void 0!==t.signup.errors[n]&&void 0!==t.signup.errors[n]&&(t.signup.errors[n]=e.message)})}))},doLogin:function(){var t=this;if(this.clearSignupErrors(),!this.login.username.trim().length)return void(this.login.errors.username="Username must not be blank");this.login.loading=!0,this.axios.post("/api/v1/user/"+this.login.username+"/login",{password:this.login.password}).then(function(e){t.login.loading=!1,t.$store.commit("setUsername",e.data.username),t.$store.commit("setAdmin",e.data.admin),t.closeAccountModal(),socket.emit("accountEvent")}).catch(function(e){t.login.loading=!1,t.ajaxErrorHandler(e,function(e){var n=e.path;void 0!==t.signup.errors[n]&&void 0!==t.signup.errors[n]&&(t.signup.errors[n]=e.message)})})}},created:function(){var t=this;this.axios.get("/api/v1/settings").then(function(e){t.$store.commit("setSettings",e.data),t.$store.dispatch("setTitle",t.$store.state.meta.title)}).catch(function(e){"noSettings"===e.response.data.errors[0].name?t.$router.push("/start"):t.ajaxErrorHandler(e)}),this.axios.get("/api/v1/category").then(function(e){if(t.$store.commit("addCategories",e.data),!t.$store.state.meta.title.length&&t.$route.params.category){var n=t.$route.params.category.toUpperCase(),s=t.categories.find(function(t){return t.value===n});t.$store.dispatch("setTitle",s.name)}}).catch(this.ajaxErrorHandler)},watch:{$route:function(){this.showMenu=!1},"$store.state.ajaxErrorsModal":function(t){t&&this.$refs.ajaxErrorsModalButton.focus()}}}},yILp:function(t,e,n){"use strict";function s(t){n("z0cS")}var o=n("lLoj"),a=n("Keen"),i=n("VU/8"),r=s,c=i(o.a,a.a,r,"data-v-390b58a0",null);e.a=c.exports},ynLf:function(t,e){},z0cS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ef0132bab7379bedac5b.js.map